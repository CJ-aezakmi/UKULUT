var mouseflowDisableKeyLogging = true;if(typeof mouseflow==='undefined'&&typeof mouseflowPlayback==='undefined'){(function(){var _539=true;var _540=false;var _521=[];var _524=[];var _39='https://eu.mouseflow.com';var _541=false;var _356=(()=>{"use strict";var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};function n(t){return"object"==typeof t&&null!==t&&t.nodeType===Node.ELEMENT_NODE}t.r(e),t.d(e,{default:()=>Q,getCssSelector:()=>K});const r={NONE:"",DESCENDANT:" ",CHILD:" > "},o={id:"id",class:"class",tag:"tag",attribute:"attribute",nthchild:"nthchild",nthoftype:"nthoftype"},i="CssSelectorGenerator";function c(t="unknown problem",...e){console.warn(`${i}: ${t}`,...e)}const u={selectors:[o.id,o.class,o.tag,o.attribute],includeTag:!1,whitelist:[],blacklist:[],combineWithinSelector:!0,combineBetweenSelectors:!0,root:null,maxCombinations:Number.POSITIVE_INFINITY,maxCandidates:Number.POSITIVE_INFINITY,useScope:!1};function s(t){return t instanceof RegExp}function a(t){return["string","function"].includes(typeof t)||s(t)}function l(t){return Array.isArray(t)?t.filter(a):[]}function f(t){const e=[Node.DOCUMENT_NODE,Node.DOCUMENT_FRAGMENT_NODE,Node.ELEMENT_NODE];return function(t){return t instanceof Node}(t)&&e.includes(t.nodeType)}function d(t,e){if(f(t))return t.contains(e)||c("element root mismatch","Provided root does not contain the element. This will most likely result in producing a fallback selector using element's real root node. If you plan to use the selector using provided root (e.g. `root.querySelector`), it will not work as intended."),t;const n=e.getRootNode({composed:!1});return f(n)?(n!==document&&c("shadow root inferred","You did not provide a root and the element is a child of Shadow DOM. This will produce a selector using ShadowRoot as a root. If you plan to use the selector using document as a root (e.g. `document.querySelector`), it will not work as intended."),n):S(e)}function m(t){return"number"==typeof t?t:Number.POSITIVE_INFINITY}function p(t=[]){const[e=[],...n]=t;return 0===n.length?e:n.reduce(((t,e)=>t.filter((t=>e.includes(t)))),e)}function g(t){return[].concat(...t)}function h(t){const e=t.map((t=>{if(s(t))return e=>t.test(e);if("function"==typeof t)return e=>{const n=t(e);return"boolean"!=typeof n?(c("pattern matcher function invalid","Provided pattern matching function does not return boolean. It's result will be ignored.",t),!1):n};if("string"==typeof t){const e=new RegExp("^"+t.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".+")+"$");return t=>e.test(t)}return c("pattern matcher invalid","Pattern matching only accepts strings, regular expressions and/or functions. This item is invalid and will be ignored.",t),()=>!1}));return t=>e.some((e=>e(t)))}function b(t,e,n){const r=Array.from(d(n,t[0]).querySelectorAll(e));return r.length===t.length&&t.every((t=>r.includes(t)))}function y(t,e){e=null!=e?e:S(t);const r=[];let o=t;for(;n(o)&&o!==e;)r.push(o),o=o.parentElement;return r}function N(t,e){return p(t.map((t=>y(t,e))))}function S(t){return t.ownerDocument.querySelector(":root")}const E=", ",v=new RegExp(["^$","\\s"].join("|")),w=new RegExp(["^$"].join("|")),I=[o.nthoftype,o.tag,o.id,o.class,o.attribute,o.nthchild],T=h(["class","id","ng-*"]);function O({name:t}){return`[${t}]`}function C({name:t,value:e}){return`[${t}='${e}']`}function x({nodeName:t,nodeValue:e}){return{name:Y(t),value:Y(null!=e?e:void 0)}}function j(t){const e=Array.from(t.attributes).filter((e=>function({nodeName:t,nodeValue:e},n){const r=n.tagName.toLowerCase();return!(["input","option"].includes(r)&&"value"===t||"src"===t&&(null==e?void 0:e.startsWith("data:"))||T(t))}(e,t))).map(x);return[...e.map(O),...e.map(C)]}function A(t){var e;return(null!==(e=t.getAttribute("class"))&&void 0!==e?e:"").trim().split(/\s+/).filter((t=>!w.test(t))).map((t=>`.${Y(t)}`))}function $(t){var e;const n=null!==(e=t.getAttribute("id"))&&void 0!==e?e:"",r=`#${Y(n)}`,o=t.getRootNode({composed:!1});return!v.test(n)&&b([t],r,o)?[r]:[]}function D(t){const e=t.parentNode;if(e){const r=Array.from(e.childNodes).filter(n).indexOf(t);if(r>-1)return[`:nth-child(${String(r+1)})`]}return[]}function R(t){return[Y(t.tagName.toLowerCase())]}function P(t){const e=[...new Set(g(t.map(R)))];return 0===e.length||e.length>1?[]:[e[0]]}function _(t){const e=P([t])[0],n=t.parentElement;if(n){const r=Array.from(n.children).filter((t=>t.tagName.toLowerCase()===e)),o=r.indexOf(t);if(o>-1)return[`${e}:nth-of-type(${String(o+1)})`]}return[]}function k(t=[],{maxResults:e=Number.POSITIVE_INFINITY}={}){return Array.from(function*(t=[],{maxResults:e=Number.POSITIVE_INFINITY}={}){let n=0,r=M(1);for(;r.length<=t.length&&n<e;){n+=1;const e=r.map((e=>t[e]));yield e,r=L(r,t.length-1)}}(t,{maxResults:e}))}function L(t=[],e=0){const n=t.length;if(0===n)return[];const r=[...t];r[n-1]+=1;for(let t=n-1;t>=0;t--)if(r[t]>e){if(0===t)return M(n+1);r[t-1]++,r[t]=r[t-1]+1}return r[n-1]>e?M(n+1):r}function M(t=1){return Array.from(Array(t).keys())}const V=":".charCodeAt(0).toString(16).toUpperCase(),F=/[ !"#$%&'()\[\]{|}<>*+,./;=?@^`~\\]/;function Y(t=""){return CSS?CSS.escape(t):function(t=""){return t.split("").map((t=>":"===t?`\\${V} `:F.test(t)?`\\${t}`:escape(t).replace(/%/g,"\\"))).join("")}(t)}const W={tag:P,id:function(t){return 0===t.length||t.length>1?[]:$(t[0])},class:function(t){return p(t.map(A))},attribute:function(t){return p(t.map(j))},nthchild:function(t){return p(t.map(D))},nthoftype:function(t){return p(t.map(_))}},q={tag:R,id:$,class:A,attribute:j,nthchild:D,nthoftype:_};function B(t){return t.includes(o.tag)||t.includes(o.nthoftype)?[...t]:[...t,o.tag]}function G(t={}){const e=[...I];return t[o.tag]&&t[o.nthoftype]&&e.splice(e.indexOf(o.tag),1),e.map((e=>{return(r=t)[n=e]?r[n].join(""):"";var n,r})).join("")}function H(t,e,n="",o){const i=function(t,e){return""===e?t:function(t,e){return[...t.map((t=>e+r.DESCENDANT+t)),...t.map((t=>e+r.CHILD+t))]}(t,e)}(function(t,e,n){const r=function(t,e){const{blacklist:n,whitelist:r,combineWithinSelector:o,maxCombinations:i}=e,c=h(n),u=h(r);return function(t){const{selectors:e,includeTag:n}=t,r=[...e];return n&&!r.includes("tag")&&r.push("tag"),r}(e).reduce(((e,n)=>{const r=function(t,e){return(0,W[e])(t)}(t,n),s=function(t=[],e,n){return t.filter((t=>n(t)||!e(t)))}(r,c,u),a=function(t=[],e){return t.sort(((t,n)=>{const r=e(t),o=e(n);return r&&!o?-1:!r&&o?1:0}))}(s,u);return e[n]=o?k(a,{maxResults:i}):a.map((t=>[t])),e}),{})}(t,n),o=function(t,e){return function(t){const{selectors:e,combineBetweenSelectors:n,includeTag:r,maxCandidates:o}=t,i=n?k(e,{maxResults:o}):e.map((t=>[t]));return r?i.map(B):i}(e).map((e=>function(t,e){const n={};return t.forEach((t=>{const r=e[t];r&&r.length>0&&(n[t]=r)})),function(t={}){let e=[];return Object.entries(t).forEach((([t,n])=>{e=n.flatMap((n=>0===e.length?[{[t]:n}]:e.map((e=>Object.assign(Object.assign({},e),{[t]:n})))))})),e}(n).map(G)}(e,t))).filter((t=>t.length>0))}(r,n),i=g(o);return[...new Set(i)]}(t,0,o),n);for(const n of i)if(b(t,n,e))return n;return null}function U(t){return{value:t,include:!1}}function z({selectors:t,operator:e}){let n=[...I];t[o.tag]&&t[o.nthoftype]&&(n=n.filter((t=>t!==o.tag)));let r="";return n.forEach((e=>{var n;(null!==(n=t[e])&&void 0!==n?n:[]).forEach((({value:t,include:e})=>{e&&(r+=t)}))})),e+r}function J(t,e){return t.map((t=>function(t,e){return[e?":scope":":root",...y(t,e).reverse().map((t=>{var e;const n=function(t,e,n=r.NONE){const o={};return e.forEach((e=>{Reflect.set(o,e,function(t,e){return q[e](t)}(t,e).map(U))})),{element:t,operator:n,selectors:o}}(t,[o.nthchild],r.CHILD);return(null!==(e=n.selectors.nthchild)&&void 0!==e?e:[]).forEach((t=>{t.include=!0})),n})).map(z)].join("")}(t,e))).join(E)}function K(t,e={}){var r;const i=function(t){(t instanceof NodeList||t instanceof HTMLCollection)&&(t=Array.from(t));const e=(Array.isArray(t)?t:[t]).filter(n);return[...new Set(e)]}(t),c=function(t,e={}){const n=Object.assign(Object.assign({},u),e);return{selectors:(r=n.selectors,Array.isArray(r)?r.filter((t=>{return e=o,n=t,Object.values(e).includes(n);var e,n})):[]),whitelist:l(n.whitelist),blacklist:l(n.blacklist),root:d(n.root,t),combineWithinSelector:!!n.combineWithinSelector,combineBetweenSelectors:!!n.combineBetweenSelectors,includeTag:!!n.includeTag,maxCombinations:m(n.maxCombinations),maxCandidates:m(n.maxCandidates),useScope:!!n.useScope};var r}(i[0],e),s=null!==(r=c.root)&&void 0!==r?r:S(i[0]);let a="",f=s;function p(){return function(t,e,n="",r){if(0===t.length)return null;const o=[t.length>1?t:[],...N(t,e).map((t=>[t]))];for(const t of o){const o=H(t,e,n,r);if(o)return{foundElements:t,selector:o}}return null}(i,f,a,c)}let g=p();for(;g;){const{foundElements:t,selector:e}=g;if(b(i,e,s))return e;f=t[0],a=e,g=p()}return i.length>1?i.map((t=>K(t,c))).join(E):J(i,c.useScope?s:void 0)}const Q=K;return e})();
var _264=typeof _642==='function';function _735(_92){return'MF'+(_2.includeDebugTime?' - '+_10:'')+': '+_92}function _5(_92,_10){if(!_2.debug)return;_10=(typeof _10!=='undefined'?_10:'');if(_92 instanceof Error){_92.message=_735(_92.message);console.error(_92)}else{console.groupCollapsed(_735(_92));console.trace();console.groupEnd()}}var _22=new _1151(window,_5);var _17=new _1068(window,_22);var _23=new _1065(window,Math,JSON,_22);var _54=new _1083(_22,_23);var _71=new _745('local',window,_23,_5);var _117=new _745('session',window,_23,_5);var _551=new _871(window,_17);var _2=new _1051(window,_71,_117,_539,_540,_541);_2._499();_2._350=[];_2._639=[];_2._502=[];_2._633=[];_2._589=[];_2._668=[];_2._45='85e49ebd-d7f4-4077-9cdf-63e4ad3ba689';_2._480=true;_2._989='5242000';_2._393('appUrl',_39);var _325=new _993(window,_23,_2,_5);function _642(_3,_93,_22,_2,_17,_23,_54,_77,_330,_71,_117,_190,_498,_5,_551,_325,_115,_113){var _941=false;var _153='https://eu01.rec.mouseflow.com/';var _178=100.00000;var _165=[{_20:"contains",_4:"/ru/proxy/residential"},{_20:"contains",_4:"/ru/proxy/mobile"}];var _1133=[];var _950=[];var _292=["app.cyberyozh.com"];var _817=false;var _931=false;var _532='2026-02-17T08:13:18.9579159Z';var _150='19.09';var _171=false;var _425=false;var _83=false;var _167=false;var _423=false;var _738=/\[(\d+)\]_mf$/;var _14=_3.document;var _64=_3.location;var _12=_898();var _1=_713();var _354=_23._506(_2);var _63={_632:100,_1099:250,_1100:10000,_604:1336,_441:1800000,_1024:3600000,_1163:100,_1085:2000,_759:8000,_742:100000,_787:2048,_965:200,_957:5000,_1103:2000,};var _447,_448,_449,_288,_328,_451,_296,_679,_484,_1189,_85,_728=[],_727=[],_665=[],_482=[],_729=[],_160=new Map(),_225=new Map();var _6={_398:0,_387:1,_386:2,_294:3,_290:4,_186:5,_192:6,_269:7,_389:8,_280:9,_230:10,_437:11,_439:12,_265:13,_824:14,_66:15,_1175:16,_1176:17,_72:18,_470:19,_920:20,_445:21,_469:22,_402:23,_472:24,_474:25,_475:26,_476:27,_391:28,_837:29,_385:30,_848:31,_384:32,_293:33,_640:34,_241:35,_414:36,_416:37,_44:38,_390:39,_1170:40,_239:41,_62:42,_1177:43,_757:44,_258:45};var _82={_683:{_24:'bounce',_4:2,_57:1,_125:1000},_395:{_24:'click-rage',_4:5,_57:2,_125:2000},_625:{_24:'click-error',_4:2,_57:3,_125:20},_712:{_24:'speed-browsing',_4:1,_57:6,_125:1000},_241:{_24:'submit-failure',_4:3,_57:7,_125:20},_508:{_24:'404',_4:5,_57:8,_125:20},_364:{_24:'dead-click',_4:1,_57:9,_125:1000}};var _664=/[\x20\r\n]+/g;var _856=/(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@/;var _890=/^\d{12,19}$/;var _912=/^(onbeforeunload|onblur|onchange|onclick|onfocus|oninput|onkeydown|onkeypress|onkeyup|onload|onmousedown|onmouseenter|onmouseleave|onmousemove|onmouseout|onmouseover|onmouseup|onresize|onsubmit|ontouchcancel|ontouchend|ontouchenter|ontouchleave|ontouchmove|ontouchstart|onunload)$/;var _877=/checkbox|radio|button|submit|file|image|reset/;var _892=[{name:'VISA',patternRegex:/^4(\d{15}|\d{17,18})$/},{name:'Mastercard',patternRegex:/^(222[1-9]|22[3-9]\d|2[3-6]\d{2}|27[01]\d|2720|5[1-5]\d\d)\d{12}$/},{name:'American Express',patternRegex:/^3[47]\d{13}$/},{name:'Diners Club',patternRegex:/^3(0[0-5]|[689]\d)(\d{11}|\d{13}|\d{16})$/},{name:'Discover',patternRegex:/^(6011|64[456789]\d|65\d{2})(\d{12}|\d{15})$/},{name:'JCB',patternRegex:/^(352[89]|35[3-8]\d|2131|1800)\d{12,15}$/},{name:'China UnionPay',patternRegex:/^(62[03456]\d{3}]|6210\d\d|621[1-7]\d\d|6218[0-2]\d|6218[4-9]\d|6219[0-7]\d|6220[0-579]\d|62201\d|6220[2-9]\d|622[1-9]\d{2}|622018|627[026]\d\d|62770\d|6277[1-7]\d|62778[1-9]|62779\d|628[2-9]\d\d|629[12]\d\d|810\d\d\d|811\d\d\d|81[2-6]\d\d\d|817[01]\d\d)\d{8,13}$/},{name:'Maestro',patternRegex:/^((493698|50000\d|5000[1-9]\d|500[1-9]\d{2}|50[1-3]\d{3}|5040\d{2}|5041[0-6]\d|50417[0-4]|50417[6-9]|5041[89]\d|504[2-9]\d{2}|505\d{3}|506[0-5]\d{2}|5066[0-8]\d|50669[0-8]|506779|5067[89]\d|506[89]\d{2}|50[78]\d{3})\d{6,13}|(5[6-9]|63|67|6\d)\d{10,17})$/},{name:'Elo',patternRegex:/^(40117[89]|438935|457631|457632|431274|451416|457393|504175|506699|5067[0-6]\d|50677[0-8]|50900\d|5090[1-9]\d|509[1-9]\d{2}|627780|636297|636368|65003[1-3]|65003[5-9]|65004\d|65005[01]|65040[5-9]|6504[1-3]\d|65048[5-9]|65049\d|6505[0-2]\d|65053[0-8]|65054[1-9]|6505[5-8]\d|65059[0-8]|65070\d|65071[0-8]|65072[0-7]|65090[1-9]|6509[1-6]\d|65097[0-8]|65165[2-9]|6516[67]\d|65500\d|65501\d|65502[1-9]|6550[34]\d|65505[0-8])\d{10}$/},{name:'Hiper',patternRegex:/^(637095|63737423|63743358|637568|637599|637609|637612)\d{10}$/},{name:'Hipercard',patternRegex:/^(606282)\d{10}$/},{name:'Dankort',patternRegex:/^5019\d{12}$/},{name:'VISA Dankort',patternRegex:/^4571\d{12}$/}];const _571=_1066();const _320=new WeakMap();const _333='mf-dead-click';let _473=false;var _891=(function(_925){return function(_658){var _659=_658.length,_660=1,_438=0,_205;while(_659){_205=parseInt(_658.charAt(--_659),10);_660^=1;_438+=_660?_925[_205]:_205}return _438&&_438% 10===0}}([0,2,4,6,8,1,3,5,7,9]));
    // Copyright 2011 Google Inc.
    //
    // Licensed under the Apache License, Version 2.0 (the "License");
    // you may not use this file except in compliance with the License.
    // You may obtain a copy of the License at
    //
    //     http://www.apache.org/licenses/LICENSE-2.0
    //
    // Unless required by applicable law or agreed to in writing, software
    // distributed under the License is distributed on an "AS IS" BASIS,
    // WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    // See the License for the specific language governing permissions and
    // limitations under the License.
    //
    // This component contains modifications carried out by Mouseflow ApS.
    var __extends=this.__extends||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p];function __(){this.constructor=d}__.prototype=b.prototype;d.prototype=new __()};var MutationObserverCtor;if(typeof WebKitMutationObserver!=='undefined')MutationObserverCtor=_22._208(_3,'WebKitMutationObserver');else if(typeof MutationObserver!=='undefined')MutationObserverCtor=_22._208(_3,'MutationObserver');if(MutationObserverCtor===undefined){_5('DOM Mutation Observers not supported.',_10())}var NodeMap=(function(){function NodeMap(){this.nodes=[];this.values=[]}NodeMap.prototype.isIndex=function(s){return+s===s>>>0};NodeMap.prototype.nodeId=function(node){var id=node[NodeMap.ID_PROP];if(!id)id=node[NodeMap.ID_PROP]=NodeMap.nextId_++;return id};NodeMap.prototype.set=function(node,value){var id=this.nodeId(node);this.nodes[id]=node;this.values[id]=value};NodeMap.prototype.get=function(node){var id=this.nodeId(node);return this.values[id]};NodeMap.prototype.has=function(node){return this.nodeId(node)in this.nodes};NodeMap.prototype.deleteNode=function(node){var id=this.nodeId(node);delete this.nodes[id];this.values[id]=undefined};NodeMap.prototype.keys=function(){var nodes=[];for(var id in this.nodes){if(!this.isIndex(id))continue;nodes.push(this.nodes[id])}return nodes};NodeMap.ID_PROP='__mouseflow_node_map_id__';NodeMap.nextId_=1;return NodeMap})();var Movement;(function(Movement){Movement[Movement['STAYED_OUT']=0]='STAYED_OUT';Movement[Movement['ENTERED']=1]='ENTERED';Movement[Movement['STAYED_IN']=2]='STAYED_IN';Movement[Movement['REPARENTED']=3]='REPARENTED';Movement[Movement['REORDERED']=4]='REORDERED';Movement[Movement['EXITED']=5]='EXITED'})(Movement||(Movement={}));function enteredOrExited(changeType){return changeType===Movement.ENTERED||changeType===Movement.EXITED}var NodeChange=(function(){function NodeChange(node,childList,attributes,characterData,oldParentNode,added,attributeOldValues,characterDataOldValue){if(childList===void 0){childList=false}if(attributes===void 0){attributes=false}if(characterData===void 0){characterData=false}if(oldParentNode===void 0){oldParentNode=null}if(added===void 0){added=false}if(attributeOldValues===void 0){attributeOldValues=null}if(characterDataOldValue===void 0){characterDataOldValue=null}this.node=node;this.childList=childList;this.attributes=attributes;this.characterData=characterData;this.oldParentNode=oldParentNode;this.added=added;this.attributeOldValues=attributeOldValues;this.characterDataOldValue=characterDataOldValue;this.isCaseInsensitive=this.node.nodeType===1&&this.node instanceof HTMLElement&&typeof(HTMLDocument)!=='undefined'&&this.node.ownerDocument instanceof HTMLDocument}NodeChange.prototype.getAttributeOldValue=function(name){if(!this.attributeOldValues)return undefined;if(this.isCaseInsensitive)name=name.toLowerCase();return this.attributeOldValues[name]};NodeChange.prototype.getAttributeNamesMutated=function(){var names=[];if(!this.attributeOldValues)return names;for(var name in this.attributeOldValues){names.push(name)}return names};NodeChange.prototype.attributeMutated=function(name,oldValue){this.attributes=true;this.attributeOldValues=this.attributeOldValues||{};if(name in this.attributeOldValues)return;this.attributeOldValues[name]=oldValue};NodeChange.prototype.characterDataMutated=function(oldValue){if(this.characterData)return;this.characterData=true;this.characterDataOldValue=oldValue};NodeChange.prototype.removedFromParent=function(parent){this.childList=true;if(this.added||this.oldParentNode)this.added=false;else this.oldParentNode=parent};NodeChange.prototype.insertedIntoParent=function(){this.childList=true;this.added=true};NodeChange.prototype.getOldParent=function(){if(this.childList){if(this.oldParentNode)return this.oldParentNode;if(this.added)return null}return _22._73(this.node)};return NodeChange})();var ChildListChange=(function(){function ChildListChange(){this.added=new NodeMap();this.removed=new NodeMap();this.maybeMoved=new NodeMap();this.oldPrevious=new NodeMap();this.moved=undefined}return ChildListChange})();var TreeChanges=(function(_661){__extends(TreeChanges,_661);function TreeChanges(rootNode,mutations){_661.call(this);this.rootNode=rootNode;this.reachableCache=undefined;this.wasReachableCache=undefined;this.anyParentsChanged=false;this.anyAttributesChanged=false;this.anyCharacterDataChanged=false;for(var m=0;m<mutations.length;m++){var mutation=mutations[m];switch(mutation.type){case'childList':this.anyParentsChanged=true;for(let i=0;i<mutation.removedNodes.length;i++){let node=mutation.removedNodes[i];this.getChange(node).removedFromParent(mutation.target)}for(let i=0;i<mutation.addedNodes.length;i++){let node=mutation.addedNodes[i];this.getChange(node).insertedIntoParent()}break;case'attributes':this.anyAttributesChanged=true;this.getChange(mutation.target).attributeMutated(mutation.attributeName,mutation.oldValue);break;case'characterData':this.anyCharacterDataChanged=true;this.getChange(mutation.target).characterDataMutated(mutation.oldValue);break}}}TreeChanges.prototype.getChange=function(node){var change=this.get(node);if(!change){change=new NodeChange(node);this.set(node,change)}return change};TreeChanges.prototype.getOldParent=function(node){var change=this.get(node);return change?change.getOldParent():_22._73(node)};TreeChanges.prototype.getIsReachable=function(node){if(node===this.rootNode)return true;if(!node)return false;this.reachableCache=this.reachableCache||new NodeMap();var isReachable=this.reachableCache.get(node);if(isReachable===undefined){isReachable=this.getIsReachable(_22._73(node));this.reachableCache.set(node,isReachable)}return isReachable};TreeChanges.prototype.getWasReachable=function(node){if(node===this.rootNode)return true;if(!node)return false;this.wasReachableCache=this.wasReachableCache||new NodeMap();var wasReachable=this.wasReachableCache.get(node);if(wasReachable===undefined&&node!=this.getOldParent(node)){wasReachable=this.getWasReachable(this.getOldParent(node));this.wasReachableCache.set(node,wasReachable)}return wasReachable};TreeChanges.prototype.reachabilityChange=function(node){if(this.getIsReachable(node)){return this.getWasReachable(node)?Movement.STAYED_IN:Movement.ENTERED}return this.getWasReachable(node)?Movement.EXITED:Movement.STAYED_OUT};return TreeChanges})(NodeMap);var MutationProjection=(function(){function MutationProjection(rootNode,mutations,selectors,calcReordered,calcOldPreviousSibling){this.rootNode=rootNode;this.mutations=mutations;this.selectors=selectors;this.calcReordered=calcReordered;this.calcOldPreviousSibling=calcOldPreviousSibling;this.treeChanges=new TreeChanges(rootNode,mutations);this.entered=[];this.exited=[];this.stayedIn=new NodeMap();this.visited=new NodeMap();this.childListChangeMap=undefined;this.characterDataOnly=undefined;this.matchCache=undefined;this.processMutations()}MutationProjection.prototype.processMutations=function(){if(!this.treeChanges.anyParentsChanged&&!this.treeChanges.anyAttributesChanged)return;var changedNodes=this.treeChanges.keys();for(var i=0;i<changedNodes.length;i++){this.visitNode(changedNodes[i],undefined)}};MutationProjection.prototype.visitNode=function(node,parentReachable){if(this.visited.has(node))return;this.visited.set(node,true);var change=this.treeChanges.get(node);var reachable=parentReachable;if((change&&change.childList)||reachable==undefined)reachable=this.treeChanges.reachabilityChange(node);if(reachable===Movement.STAYED_OUT)return;this.matchabilityChange(node);if(reachable===Movement.ENTERED){this.entered.push(node)}else if(reachable===Movement.EXITED){this.exited.push(node);this.ensureHasOldPreviousSiblingIfNeeded(node)}else if(reachable===Movement.STAYED_IN){var movement=Movement.STAYED_IN;if(change&&change.childList){if(change.oldParentNode!==_22._73(node)){movement=Movement.REPARENTED;this.ensureHasOldPreviousSiblingIfNeeded(node)}else if(this.calcReordered&&this.wasReordered(node)){movement=Movement.REORDERED}}this.stayedIn.set(node,movement)}if(reachable===Movement.STAYED_IN)return;for(var child=_22._1101(node);child;child=_22._700(child)){this.visitNode(child,reachable)}};MutationProjection.prototype.ensureHasOldPreviousSiblingIfNeeded=function(node){if(!this.calcOldPreviousSibling)return;this.processChildlistChanges();var parentNode=_22._73(node);var nodeChange=this.treeChanges.get(node);if(nodeChange&&nodeChange.oldParentNode)parentNode=nodeChange.oldParentNode;var change=this.childListChangeMap.get(parentNode);if(!change){change=new ChildListChange();this.childListChangeMap.set(parentNode,change)}if(!change.oldPrevious.has(node)){change.oldPrevious.set(node,node.previousSibling)}};MutationProjection.prototype.getChanged=function(summary,selectors,characterDataOnly){this.selectors=selectors;this.characterDataOnly=characterDataOnly;for(let i=0;i<this.entered.length;i++){let node=this.entered[i];let matchable=this.matchabilityChange(node);if(matchable===Movement.ENTERED||matchable===Movement.STAYED_IN)summary.added.push(node)}var stayedInNodes=this.stayedIn.keys();for(let i=0;i<stayedInNodes.length;i++){let node=stayedInNodes[i];let matchable=this.matchabilityChange(node);if(matchable===Movement.ENTERED){summary.added.push(node)}else if(matchable===Movement.EXITED){summary.removed.push(node)}else if(matchable===Movement.STAYED_IN&&(summary.reparented||summary.reordered)){var movement=this.stayedIn.get(node);if(summary.reparented&&movement===Movement.REPARENTED)summary.reparented.push(node);else if(summary.reordered&&movement===Movement.REORDERED)summary.reordered.push(node)}}for(var i=0;i<this.exited.length;i++){var node=this.exited[i];var matchable=this.matchabilityChange(node);if(matchable===Movement.EXITED||matchable===Movement.STAYED_IN)summary.removed.push(node)}};MutationProjection.prototype.getOldParentNode=function(node){var change=this.treeChanges.get(node);if(change&&change.childList)return change.oldParentNode?change.oldParentNode:null;var reachabilityChange=this.treeChanges.reachabilityChange(node);if(reachabilityChange===Movement.STAYED_OUT||reachabilityChange===Movement.ENTERED)throw Error('getOldParentNode requested on invalid node.');return _22._73(node)};MutationProjection.prototype.getOldPreviousSibling=function(node){var parentNode=_22._73(node);var nodeChange=this.treeChanges.get(node);if(nodeChange&&nodeChange.oldParentNode)parentNode=nodeChange.oldParentNode;var change=this.childListChangeMap.get(parentNode);if(!change)throw Error('getOldPreviousSibling requested on invalid node.');return change.oldPrevious.get(node)};MutationProjection.prototype.getOldAttribute=function(element,attrName){var change=this.treeChanges.get(element);if(!change||!change.attributes)throw Error('getOldAttribute requested on invalid node.');var value=change.getAttributeOldValue(attrName);if(value===undefined)throw Error('getOldAttribute requested for unchanged attribute name.');return value};MutationProjection.prototype.attributeChangedNodes=function(includeAttributes){if(!this.treeChanges.anyAttributesChanged)return{};var attributeFilter;var caseInsensitiveFilter;if(includeAttributes){attributeFilter={};caseInsensitiveFilter={};for(let i=0;i<includeAttributes.length;i++){let attrName=includeAttributes[i];attributeFilter[attrName]=true;caseInsensitiveFilter[attrName.toLowerCase()]=attrName}}var result={};var nodes=this.treeChanges.keys();for(let i=0;i<nodes.length;i++){var node=nodes[i];var change=this.treeChanges.get(node);if(!change.attributes)continue;if(Movement.STAYED_IN!==this.treeChanges.reachabilityChange(node)||Movement.STAYED_IN!==this.matchabilityChange(node)){continue}var element=node;var changedAttrNames=change.getAttributeNamesMutated();for(var j=0;j<changedAttrNames.length;j++){let attrName=changedAttrNames[j];if(attributeFilter&&!attributeFilter[attrName]&&!(change.isCaseInsensitive&&caseInsensitiveFilter[attrName])){continue}var oldValue=change.getAttributeOldValue(attrName);if(oldValue===element.getAttribute(attrName))continue;if(caseInsensitiveFilter&&change.isCaseInsensitive)attrName=caseInsensitiveFilter[attrName];result[attrName]=result[attrName]||[];result[attrName].push(element)}}return result};MutationProjection.prototype.getOldCharacterData=function(node){var change=this.treeChanges.get(node);if(!change||!change.characterData)throw Error('getOldCharacterData requested on invalid node.');return change.characterDataOldValue};MutationProjection.prototype.getCharacterDataChanged=function(){if(!this.treeChanges.anyCharacterDataChanged)return[];var nodes=this.treeChanges.keys();var result=[];for(var i=0;i<nodes.length;i++){var target=nodes[i];if(Movement.STAYED_IN!==this.treeChanges.reachabilityChange(target))continue;var change=this.treeChanges.get(target);if(!change.characterData||target.textContent==change.characterDataOldValue)continue;result.push(target)}return result};MutationProjection.prototype.computeMatchabilityChange=function(selector,el){if(!this.matchCache)this.matchCache=[];if(!this.matchCache[selector.uid])this.matchCache[selector.uid]=new NodeMap();var cache=this.matchCache[selector.uid];var result=cache.get(el);if(result===undefined){result=selector.matchabilityChange(el,this.treeChanges.get(el));cache.set(el,result)}return result};MutationProjection.prototype.matchabilityChange=function(node){var _34=this;if(this.characterDataOnly){switch(node.nodeType){case 8:case 3:return Movement.STAYED_IN;default:return Movement.STAYED_OUT}}if(!this.selectors)return Movement.STAYED_IN;if(node.nodeType!==1)return Movement.STAYED_OUT;var el=node;var matchChanges=this.selectors.map(function(selector){return _34.computeMatchabilityChange(selector,el)});var accum=Movement.STAYED_OUT;var i=0;while(accum!==Movement.STAYED_IN&&i<matchChanges.length){switch(matchChanges[i]){case Movement.STAYED_IN:accum=Movement.STAYED_IN;break;case Movement.ENTERED:if(accum===Movement.EXITED)accum=Movement.STAYED_IN;else accum=Movement.ENTERED;break;case Movement.EXITED:if(accum===Movement.ENTERED)accum=Movement.STAYED_IN;else accum=Movement.EXITED;break}i++}return accum};MutationProjection.prototype.getChildlistChange=function(el){var change=this.childListChangeMap.get(el);if(!change){change=new ChildListChange();this.childListChangeMap.set(el,change)}return change};MutationProjection.prototype.processChildlistChanges=function(){if(this.childListChangeMap)return;this.childListChangeMap=new NodeMap();for(var i=0;i<this.mutations.length;i++){var mutation=this.mutations[i];if(mutation.type!='childList')continue;if(this.treeChanges.reachabilityChange(mutation.target)!==Movement.STAYED_IN&&!this.calcOldPreviousSibling)continue;var change=this.getChildlistChange(mutation.target);var oldPrevious=mutation.previousSibling;for(let j=0;j<mutation.removedNodes.length;j++){let node=mutation.removedNodes[j];recordOldPrevious(node,oldPrevious,change);if(change.added.has(node)){change.added.deleteNode(node)}else{change.removed.set(node,true);change.maybeMoved.deleteNode(node)}oldPrevious=node}recordOldPrevious(mutation.nextSibling,oldPrevious,change);for(let j=0;j<mutation.addedNodes.length;j++){let node=mutation.addedNodes[j];if(change.removed.has(node)){change.removed.deleteNode(node);change.maybeMoved.set(node,true)}else{change.added.set(node,true)}}}};MutationProjection.prototype.wasReordered=function(node){if(!this.treeChanges.anyParentsChanged)return false;this.processChildlistChanges();var parentNode=_22._73(node);var nodeChange=this.treeChanges.get(node);if(nodeChange&&nodeChange.oldParentNode)parentNode=nodeChange.oldParentNode;var change=this.childListChangeMap.get(parentNode);if(!change)return false;if(change.moved)return change.moved.get(node);change.moved=new NodeMap();var pendingMoveDecision=new NodeMap();function isMoved(node){if(!node)return false;if(!change.maybeMoved.has(node))return false;var didMove=change.moved.get(node);if(didMove!==undefined)return didMove;if(pendingMoveDecision.has(node)){didMove=true}else{pendingMoveDecision.set(node,true);didMove=getPrevious(node)!==getOldPrevious(node)}if(pendingMoveDecision.has(node)){pendingMoveDecision.deleteNode(node);change.moved.set(node,didMove)}else{didMove=change.moved.get(node)}return didMove}var oldPreviousCache=new NodeMap();function getOldPrevious(node){var oldPrevious=oldPreviousCache.get(node);if(oldPrevious!==undefined)return oldPrevious;oldPrevious=change.oldPrevious.get(node);while(oldPrevious&&(change.removed.has(oldPrevious)||isMoved(oldPrevious))){oldPrevious=getOldPrevious(oldPrevious)}if(oldPrevious===undefined)oldPrevious=node.previousSibling;oldPreviousCache.set(node,oldPrevious);return oldPrevious}var previousCache=new NodeMap();function getPrevious(node){if(previousCache.has(node))return previousCache.get(node);var previous=node.previousSibling;while(previous&&(change.added.has(previous)||isMoved(previous)))previous=previous.previousSibling;previousCache.set(node,previous);return previous}change.maybeMoved.keys().forEach(isMoved);return change.moved.get(node)};return MutationProjection})();function recordOldPrevious(node,previous,change){if(!node||change.oldPrevious.has(node)||change.added.has(node)||change.maybeMoved.has(node))return;if(previous&&(change.added.has(previous)||change.maybeMoved.has(previous)))return;change.oldPrevious.set(node,previous)}var Summary=(function(){function Summary(projection,query){var _34=this;this.projection=projection;this.added=[];this.removed=[];this.reparented=query.all||query.element||query.characterData?[]:undefined;this.reordered=query.all?[]:undefined;projection.getChanged(this,query.elementFilter,query.characterData);if(query.all||query.attribute||query.attributeList){var filter=query.attribute?[query.attribute]:query.attributeList;var attributeChanged=projection.attributeChangedNodes(filter);if(query.attribute){this.valueChanged=attributeChanged[query.attribute]||[]}else{this.attributeChanged=attributeChanged;if(query.attributeList){query.attributeList.forEach(function(attrName){if(Object.prototype.hasOwnProperty.call(!_34.attributeChanged,attrName))_34.attributeChanged[attrName]=[]})}}}if(query.all||query.characterData){var characterDataChanged=projection.getCharacterDataChanged();if(query.characterData)this.valueChanged=characterDataChanged;else this.characterDataChanged=characterDataChanged}if(this.reordered)this.getOldPreviousSibling=projection.getOldPreviousSibling.bind(projection)}Summary.prototype.getOldParentNode=function(node){return this.projection.getOldParentNode(node)};Summary.prototype.getOldAttribute=function(node,name){return this.projection.getOldAttribute(node,name)};Summary.prototype.getOldCharacterData=function(node){return this.projection.getOldCharacterData(node)};Summary.prototype.getOldPreviousSibling=function(node){return this.projection.getOldPreviousSibling(node)};return Summary})();var validNameInitialChar=/[a-zA-Z_]+/;var validNameNonInitialChar=/[a-zA-Z0-9_-]+/;function escapeQuotes(value){return'"'+value.replace(/"/g,'\\"')+'"'}var Qualifier=(function(){function Qualifier(){}Qualifier.prototype.matches=function(oldValue){if(oldValue===null)return false;if(this.attrValue===undefined)return true;if(!this.contains)return this.attrValue==oldValue;var tokens=oldValue.split(' ');for(var i=0;i<tokens.length;i++){if(this.attrValue===tokens[i])return true}return false};Qualifier.prototype.toString=function(){if(this.attrName==='class'&&this.contains)return'.'+this.attrValue;if(this.attrName==='id'&&!this.contains)return'#'+this.attrValue;if(this.contains)return'['+this.attrName+'~='+escapeQuotes(this.attrValue)+']';if('attrValue'in this)return'['+this.attrName+'='+escapeQuotes(this.attrValue)+']';return'['+this.attrName+']'};return Qualifier})();var Selector=(function(){function Selector(){this.uid=Selector.nextUid++;this.qualifiers=[]}try{Object.defineProperty(Selector.prototype,'caseInsensitiveTagName',{get:function(){return this.tagName.toUpperCase()},enumerable:true,configurable:true});Object.defineProperty(Selector.prototype,'selectorString',{get:function(){return this.tagName+this.qualifiers.join('')},enumerable:true,configurable:true})}catch(e){}Selector.prototype.isMatching=function(el){return el[Selector.matchesSelector](this.selectorString)};Selector.prototype.wasMatching=function(el,change,isMatching){if(!change||!change.attributes)return isMatching;var tagName=change.isCaseInsensitive?this.caseInsensitiveTagName:this.tagName;if(tagName!=='*'&&tagName!==el.tagName)return false;var attributeOldValues=[];var anyChanged=false;for(let i=0;i<this.qualifiers.length;i++){let qualifier=this.qualifiers[i];let oldValue=change.getAttributeOldValue(qualifier.attrName);attributeOldValues.push(oldValue);anyChanged=anyChanged||(oldValue!==undefined)}if(!anyChanged)return isMatching;for(let i=0;i<this.qualifiers.length;i++){let qualifier=this.qualifiers[i];let oldValue=attributeOldValues[i];if(oldValue===undefined)oldValue=el.getAttribute(qualifier.attrName);if(!qualifier.matches(oldValue))return false}return true};Selector.prototype.matchabilityChange=function(el,change){var isMatching=this.isMatching(el);if(isMatching)return this.wasMatching(el,change,isMatching)?Movement.STAYED_IN:Movement.ENTERED;else return this.wasMatching(el,change,isMatching)?Movement.EXITED:Movement.STAYED_OUT};Selector.parseSelectors=function(input){var selectors=[];var currentSelector;var currentQualifier;function newSelector(){if(currentSelector){if(currentQualifier){currentSelector.qualifiers.push(currentQualifier);currentQualifier=undefined}selectors.push(currentSelector)}currentSelector=new Selector()}function newQualifier(){if(currentQualifier)currentSelector.qualifiers.push(currentQualifier);currentQualifier=new Qualifier()}var WHITESPACE=/\s/;var valueQuoteChar;var SYNTAX_ERROR='Invalid or unsupported selector syntax.';var SELECTOR=1;var TAG_NAME=2;var QUALIFIER=3;var QUALIFIER_NAME_FIRST_CHAR=4;var QUALIFIER_NAME=5;var ATTR_NAME_FIRST_CHAR=6;var ATTR_NAME=7;var EQUIV_OR_ATTR_QUAL_END=8;var EQUAL=9;var ATTR_QUAL_END=10;var VALUE_FIRST_CHAR=11;var VALUE=12;var QUOTED_VALUE=13;var SELECTOR_SEPARATOR=14;var state=SELECTOR;var i=0;while(i<input.length){var c=input[i++];switch(state){case SELECTOR:if(c.match(validNameInitialChar)){newSelector();currentSelector.tagName=c;state=TAG_NAME;break}if(c=='*'){newSelector();currentSelector.tagName='*';state=QUALIFIER;break}if(c=='.'){newSelector();newQualifier();currentSelector.tagName='*';currentQualifier.attrName='class';currentQualifier.contains=true;state=QUALIFIER_NAME_FIRST_CHAR;break}if(c=='#'){newSelector();newQualifier();currentSelector.tagName='*';currentQualifier.attrName='id';state=QUALIFIER_NAME_FIRST_CHAR;break}if(c=='['){newSelector();newQualifier();currentSelector.tagName='*';currentQualifier.attrName='';state=ATTR_NAME_FIRST_CHAR;break}if(c.match(WHITESPACE))break;throw Error(SYNTAX_ERROR);case TAG_NAME:if(c.match(validNameNonInitialChar)){currentSelector.tagName+=c;break}if(c=='.'){newQualifier();currentQualifier.attrName='class';currentQualifier.contains=true;state=QUALIFIER_NAME_FIRST_CHAR;break}if(c=='#'){newQualifier();currentQualifier.attrName='id';state=QUALIFIER_NAME_FIRST_CHAR;break}if(c=='['){newQualifier();currentQualifier.attrName='';state=ATTR_NAME_FIRST_CHAR;break}if(c.match(WHITESPACE)){state=SELECTOR_SEPARATOR;break}if(c==','){state=SELECTOR;break}throw Error(SYNTAX_ERROR);case QUALIFIER:if(c=='.'){newQualifier();currentQualifier.attrName='class';currentQualifier.contains=true;state=QUALIFIER_NAME_FIRST_CHAR;break}if(c=='#'){newQualifier();currentQualifier.attrName='id';state=QUALIFIER_NAME_FIRST_CHAR;break}if(c=='['){newQualifier();currentQualifier.attrName='';state=ATTR_NAME_FIRST_CHAR;break}if(c.match(WHITESPACE)){state=SELECTOR_SEPARATOR;break}if(c==','){state=SELECTOR;break}throw Error(SYNTAX_ERROR);case QUALIFIER_NAME_FIRST_CHAR:if(c.match(validNameInitialChar)){currentQualifier.attrValue=c;state=QUALIFIER_NAME;break}throw Error(SYNTAX_ERROR);case QUALIFIER_NAME:if(c.match(validNameNonInitialChar)){currentQualifier.attrValue+=c;break}if(c=='.'){newQualifier();currentQualifier.attrName='class';currentQualifier.contains=true;state=QUALIFIER_NAME_FIRST_CHAR;break}if(c=='#'){newQualifier();currentQualifier.attrName='id';state=QUALIFIER_NAME_FIRST_CHAR;break}if(c=='['){newQualifier();state=ATTR_NAME_FIRST_CHAR;break}if(c.match(WHITESPACE)){state=SELECTOR_SEPARATOR;break}if(c==','){state=SELECTOR;break}throw Error(SYNTAX_ERROR);case ATTR_NAME_FIRST_CHAR:if(c.match(validNameInitialChar)){currentQualifier.attrName=c;state=ATTR_NAME;break}if(c.match(WHITESPACE))break;throw Error(SYNTAX_ERROR);case ATTR_NAME:if(c.match(validNameNonInitialChar)){currentQualifier.attrName+=c;break}if(c.match(WHITESPACE)){state=EQUIV_OR_ATTR_QUAL_END;break}if(c=='~'){currentQualifier.contains=true;state=EQUAL;break}if(c=='='){currentQualifier.attrValue='';state=VALUE_FIRST_CHAR;break}if(c==']'){state=QUALIFIER;break}throw Error(SYNTAX_ERROR);case EQUIV_OR_ATTR_QUAL_END:if(c=='~'){currentQualifier.contains=true;state=EQUAL;break}if(c=='='){currentQualifier.attrValue='';state=VALUE_FIRST_CHAR;break}if(c==']'){state=QUALIFIER;break}if(c.match(WHITESPACE))break;throw Error(SYNTAX_ERROR);case EQUAL:if(c=='='){currentQualifier.attrValue='';state=VALUE_FIRST_CHAR;break}throw Error(SYNTAX_ERROR);case ATTR_QUAL_END:if(c==']'){state=QUALIFIER;break}if(c.match(WHITESPACE))break;throw Error(SYNTAX_ERROR);case VALUE_FIRST_CHAR:if(c.match(WHITESPACE))break;if(c=='"'||c=="'"){valueQuoteChar=c;state=QUOTED_VALUE;break}currentQualifier.attrValue+=c;state=VALUE;break;case VALUE:if(c.match(WHITESPACE)){state=ATTR_QUAL_END;break}if(c==']'){state=QUALIFIER;break}if(c=="'"||c=='"')throw Error(SYNTAX_ERROR);currentQualifier.attrValue+=c;break;case QUOTED_VALUE:if(c==valueQuoteChar){state=ATTR_QUAL_END;break}currentQualifier.attrValue+=c;break;case SELECTOR_SEPARATOR:if(c.match(WHITESPACE))break;if(c==','){state=SELECTOR;break}throw Error(SYNTAX_ERROR)}}switch(state){case SELECTOR:case TAG_NAME:case QUALIFIER:case QUALIFIER_NAME:case SELECTOR_SEPARATOR:newSelector();break;default:throw Error(SYNTAX_ERROR)}if(!selectors.length)throw Error(SYNTAX_ERROR);return selectors};Selector.nextUid=1;Selector.matchesSelector=(function(){var element=_14.createElement('div');if(typeof element['webkitMatchesSelector']==='function')return'webkitMatchesSelector';if(typeof element['mozMatchesSelector']==='function')return'mozMatchesSelector';if(typeof element['msMatchesSelector']==='function')return'msMatchesSelector';return'matchesSelector'})();return Selector})();var attributeFilterPattern=/^([a-zA-Z:_]+[a-zA-Z0-9_\-:.]*)$/;function validateAttribute(attribute){if(typeof attribute!='string')throw Error('Invalid request opion. attribute must be a non-zero length string.');attribute=attribute.trim();if(!attribute)throw Error('Invalid request opion. attribute must be a non-zero length string.');if(!attribute.match(attributeFilterPattern))throw Error('Invalid request option. invalid attribute name: '+attribute);return attribute}function validateElementAttributes(attribs){if(!attribs.trim().length)throw Error('Invalid request option: elementAttributes must contain at least one attribute.');var lowerAttributes={};var attributes={};var tokens=attribs.split(/\s+/);for(var i=0;i<tokens.length;i++){let name=tokens[i];if(!name)continue;name=validateAttribute(name);var nameLower=name.toLowerCase();if(lowerAttributes[nameLower])throw Error('Invalid request option: observing multiple case variations of the same attribute is not supported.');attributes[name]=true;lowerAttributes[nameLower]=true}return Object.keys(attributes)}function elementFilterAttributes(selectors){var attributes={};selectors.forEach(function(selector){selector.qualifiers.forEach(function(qualifier){attributes[qualifier.attrName]=true})});return Object.keys(attributes)}var MutationSummary=(function(){function MutationSummary(opts){var _34=this;this.connected=false;this.options=MutationSummary.validateOptions(opts);this.observerOptions=MutationSummary.createObserverOptions(this.options.queries);this.root=this.options.rootNode;this.callback=this.options.callback;this.elementFilter=Array.prototype.concat.apply([],this.options.queries.map(function(query){return query.elementFilter?query.elementFilter:[]}));if(!this.elementFilter.length)this.elementFilter=undefined;this.calcReordered=this.options.queries.some(function(query){return query.all});this.queryValidators=[];if(MutationSummary.createQueryValidator){this.queryValidators=this.options.queries.map(function(query){return MutationSummary.createQueryValidator(_34.root,query)})}this.observedMutations=[];this.observer=MutationObserverCtor?new MutationObserverCtor(function(mutations){_34.observedMutations.push(mutations);_17._48(()=>{if(!_34.observedMutations.length)return;_34.observerCallback(_34.observedMutations.flat());_34.observedMutations=[]},1)}):{observe:function(){}};this.reconnect()}MutationSummary.createObserverOptions=function(queries){var observerOptions={childList:true,subtree:true};var attributeFilter;function observeAttributes(attributes){if(observerOptions.attributes&&!attributeFilter)return;observerOptions.attributes=true;observerOptions.attributeOldValue=true;if(!attributes){attributeFilter=undefined;return}attributeFilter=attributeFilter||{};attributes.forEach(function(attribute){attributeFilter[attribute]=true;attributeFilter[attribute.toLowerCase()]=true})}queries.forEach(function(query){if(query.characterData){observerOptions.characterData=true;observerOptions.characterDataOldValue=true;return}if(query.all){observeAttributes();observerOptions.characterData=true;observerOptions.characterDataOldValue=true;return}if(query.attribute){observeAttributes([query.attribute.trim()]);return}var attributes=elementFilterAttributes(query.elementFilter).concat(query.attributeList||[]);if(attributes.length)observeAttributes(attributes)});if(attributeFilter)observerOptions.attributeFilter=Object.keys(attributeFilter);return observerOptions};MutationSummary.validateOptions=function(options){for(var prop in options){if(!(prop in MutationSummary.optionKeys))throw Error('Invalid option: '+prop)}if(typeof options.callback!=='function')throw Error('Invalid options: callback is required and must be a function');if(!options.queries||!options.queries.length)throw Error('Invalid options: queries must contain at least one query request object.');var opts={callback:options.callback,rootNode:options.rootNode||_14,observeOwnChanges:!!options.observeOwnChanges,oldPreviousSibling:!!options.oldPreviousSibling,queries:[]};for(var i=0;i<options.queries.length;i++){var request=options.queries[i];if(request.all){if(Object.keys(request).length>1)throw Error('Invalid request option. all has no options.');opts.queries.push({all:true});continue}if('attribute'in request){let query={attribute:validateAttribute(request.attribute)};query.elementFilter=Selector.parseSelectors('*['+query.attribute+']');if(Object.keys(request).length>1)throw Error('Invalid request option. attribute has no options.');opts.queries.push(query);continue}if('element'in request){var requestOptionCount=Object.keys(request).length;let query={element:request.element,elementFilter:Selector.parseSelectors(request.element)};if(Object.prototype.hasOwnProperty.call(request,'elementAttributes')){query.attributeList=validateElementAttributes(request.elementAttributes);requestOptionCount--}if(requestOptionCount>1)throw Error('Invalid request option. element only allows elementAttributes option.');opts.queries.push(query);continue}if(request.characterData){if(Object.keys(request).length>1)throw Error('Invalid request option. characterData has no options.');opts.queries.push({characterData:true});continue}throw Error('Invalid request option. Unknown query request.')}return opts};MutationSummary.prototype.createSummaries=function(mutations){if(!mutations||!mutations.length)return[];var projection=new MutationProjection(this.root,mutations,this.elementFilter,this.calcReordered,this.options.oldPreviousSibling);var summaries=[];for(var i=0;i<this.options.queries.length;i++){summaries.push(new Summary(projection,this.options.queries[i]))}return summaries};MutationSummary.prototype.checkpointQueryValidators=function(){this.queryValidators.forEach(function(validator){if(validator)validator.recordPreviousState()})};MutationSummary.prototype.runQueryValidators=function(summaries){this.queryValidators.forEach(function(validator,index){if(validator)validator.validate(summaries[index])})};MutationSummary.prototype.changesToReport=function(summaries){return summaries.some(function(summary){var summaryProps=['added','removed','reordered','reparented','valueChanged','characterDataChanged'];if(summaryProps.some(function(prop){return summary[prop]&&summary[prop].length}))return true;if(summary.attributeChanged){var attrNames=Object.keys(summary.attributeChanged);var attrsChanged=attrNames.some(function(attrName){return!!summary.attributeChanged[attrName].length});if(attrsChanged)return true}return false})};MutationSummary.prototype.observerCallback=function(mutations){if(!this.options.observeOwnChanges)this.observer.disconnect();var summaries=this.createSummaries(mutations);this.runQueryValidators(summaries);if(this.options.observeOwnChanges)this.checkpointQueryValidators();if(this.changesToReport(summaries))this.callback(summaries);if(!this.options.observeOwnChanges&&this.connected){this.checkpointQueryValidators();this.observer.observe(this.root,this.observerOptions)}};MutationSummary.prototype.reconnect=function(){if(this.connected)throw Error('Already connected');this.observer.observe(this.root,this.observerOptions);this.connected=true;this.checkpointQueryValidators()};MutationSummary.prototype.takeSummaries=function(){if(!this.connected)throw Error('Not connected');var summaries=this.createSummaries(this.observer.takeRecords());return this.changesToReport(summaries)?summaries:undefined};MutationSummary.prototype.disconnect=function(){var summaries=this.takeSummaries();this.observer.disconnect();this.connected=false;return summaries};MutationSummary.NodeMap=NodeMap;MutationSummary.parseElementFilter=Selector.parseSelectors;MutationSummary.optionKeys={'callback':true,'queries':true,'rootNode':true,'oldPreviousSibling':true,'observeOwnChanges':true};return MutationSummary})();var TreeMirrorClient=(function(){function TreeMirrorClient(target,mirror,testingQueries){var _34=this;this.target=target;this.mirror=mirror;this.nextId=1;this.knownNodes=new MutationSummary.NodeMap();this.mutationSummaries=[];_424();var serializedRoot=this.serializeNode(target,true);var rootId=serializedRoot.id;this.mirror.initialize(rootId,[serializedRoot]);var queries=[{all:true}];if(testingQueries)queries=queries.concat(testingQueries);this.mutationSummaries.push(new MutationSummary({rootNode:target,callback:function(summaries){_34.applyChanged(summaries)},queries:queries}))}TreeMirrorClient.prototype.addShadowRoot=function(shadow){if(_318(shadow.host)||_409(shadow.host))return;const isKnownNode=this.isKnownNode(shadow);const isInitial=!isKnownNode;const data=this.serializeNode(shadow,isInitial);if(!data)return;if(!isKnownNode){data.parentNode=this.serializeNode(shadow.host);this.mirror.applyChanged({removed:[],addedOrMoved:[data],attributes:[],text:[]})}const existingSummary=this.mutationSummaries.find(m=>m.root===shadow);if(existingSummary)return;const _34=this;this.mutationSummaries.push(new MutationSummary({rootNode:shadow,callback:function(summaries){_34.applyChanged(summaries)},queries:[{all:true}]}))};TreeMirrorClient.prototype.disconnect=function(){this.mutationSummaries.forEach(function(mutationSummary){mutationSummary.disconnect()});this.mutationSummaries=[]};TreeMirrorClient.prototype.rememberNode=function(node){var id=this.nextId++;this.knownNodes.set(node,id);return id};TreeMirrorClient.prototype.forgetNode=function(node){this.knownNodes.deleteNode(node)};TreeMirrorClient.prototype.isKnownNode=function(node){return!!this.knownNodes.get(node)};TreeMirrorClient.prototype.serializeNode=function(node,isInitial){if(node===null)return null;if(_262(node,_313))return null;if(_262(node,_316))return null;var id=this.knownNodes.get(node);if(id!==undefined){if(isInitial)return _5('Found duplicated node during initial DOM: '+id,_10());return{id:id}}var data={nodeType:node.nodeType,id:this.rememberNode(node)};var parent=_22._73(node);if(_23._217(node,'data-mf-replace')||_23._217(node,'data-mf-replace-inner'))return null;var _411=_477(node),_662=!!_262(parent,_313);if(_411||_662){_5('CSS Blacklist blocked node. NodeType: '+node.nodeType+'. '+(node.nodeType===1?'Tag: '+node.tagName:''),_10());_317(node,_313,true);if(isInitial){for(const _80 of _22._180(node))this.serializeNode(_80,true)}if(_662)return null}var _436=_490(node),_663=!!_262(parent,_316);if(_436||_663){_5('CSS Masked blocked node. NodeType: '+node.nodeType+'. '+(node.nodeType===1?'Tag: '+node.tagName:''),_10());_317(node,_316,true);if(isInitial){for(const _80 of _22._180(node))this.serializeNode(_80,true)}if(_663)return null}switch(data.nodeType){case 9:this.serializeAdoptedStyleSheets(node,data);this.serializeChildNodes(node,data);break;case 11:data.isShadowRoot=_22._1089(node);this.serializeAdoptedStyleSheets(node,data);this.serializeChildNodes(node,data);break;case 10:data.name=node.name;data.publicId=node.publicId;data.systemId=node.systemId;break;case 8:case 3:if(node.nodeType===8&&node.textContent.indexOf('[if')!==0&&node.textContent.indexOf('<![endif]')!==0)break;data.textContent=_724(node);if(_664.test(data.textContent)&&!_977(parent))data.textContent=data.textContent.replace(_664,' ');if(parent&&parent.tagName==='STYLE'&&/^\s*$/.test(node.textContent)){data.textContent=_347(parent.sheet)}break;case 1:if(node.tagName==='IFRAME'&&parent&&parent.tagName==='HEAD'){data.nodeType=8;data.textContent='';break}data.tagName=node.tagName;if(node.attributes['data-mf-replace']){let _326=node.attributes['data-mf-replace'].value;data=_672.call(this,_326,function(_18){var _7=this.serializeNode(_18,true);_7.id=data.id;this.knownNodes.set(_18,_7.id);return _7})[0];break}if(node.tagName==='SCRIPT'){if(/\/?aura_prod\.js(\?.+)?$/.test(node.src)){_5('Salesforce Aura script added');_1032();_1029()}break}data.attributes={};var _927=_411||_436;if(_927){_899(node,data)}else{_935(node,data)}if(_411){data.attributes.class=node.className+' mf-excluded';break}if(_436){data.attributes.class=node.className+' mf-masked'}if(node===_354)data.attributes.class=(data.attributes.class||'')+' mf-scroll-main';if(_665.indexOf(node)!==-1)data.attributes.class=(data.attributes.class||'')+' mf-listen';if(node.tagName==='IFRAME'&&node.offsetWidth<=1&&node.offsetHeight<=1)data.attributes.src='';if(isInitial&&node.tagName==='INPUT'){if(!data.attributes.value&&node.value)data.attributes.value=_261(node);if(!data.attributes.checked&&node.checked)data.attributes.checked=node.checked}if(isInitial&&node.tagName==='OPTION'&&!data.attributes.selected&&node.selected)data.attributes.selected=node.selected;if(node.tagName==='INPUT'&&node.type==='hidden'&&data.attributes.value)data.attributes.value='';if(node.attributes['data-mf-replace-inner']){let _326=node.attributes['data-mf-replace-inner'].value;data.childNodes=_672.call(this,_326,function(_18){return this.serializeNode(_18,true)});break}if(isInitial){this.serializeChildNodes(node,data);if(node.shadowRoot){if(!data.childNodes)data.childNodes=[];var shadowRootData=this.serializeNode(node.shadowRoot,true);if(shadowRootData)data.childNodes.push(shadowRootData)}var cssDomain=node.tagName==='LINK'?node.href.split('/')[2]:'-1';var cssGetAllowed=_14.domain.indexOf(cssDomain)!==-1;var _929=node.tagName==='LINK'&&node.href&&cssGetAllowed&&(node.href.indexOf('blob:')===0||_2.enableCssRecording);var _930=node.tagName==='STYLE'&&!node.textContent;var cssRules=_929||_930?_347(node.sheet):null;if(cssRules){data.childNodes=[{nodeType:3,textContent:cssRules}];data.tagName='STYLE';data.href=undefined;data.rel=undefined}}break}return data};TreeMirrorClient.prototype.serializeAddedAndMoved=function(added,reparented,reordered){var _34=this;var all=added.concat(reparented).concat(reordered);var parentMap=new MutationSummary.NodeMap();all.forEach(function(node){var parent=_22._73(node);var children=parentMap.get(parent);if(!children){children=new MutationSummary.NodeMap();parentMap.set(parent,children)}children.set(node,true)});var moved=[];parentMap.keys().forEach(function(parent){var children=parentMap.get(parent);var keys=children.keys();while(keys.length){var node=keys[0];while(node.previousSibling&&children.has(node.previousSibling))node=node.previousSibling;var _218=false;while(node&&children.has(node)){if(_674(node))_218=true;else if(_675(node.previousSibling))_218=false;if(!_218){var data=_34.serializeNode(node);if(data){var _394=node.previousSibling;while(_394&&!data.previousSibling){data.previousSibling=_34.serializeNode(_394);_394=_394.previousSibling}data.parentNode=_34.serializeNode(_22._73(node));if(data.parentNode)moved.push(data)}}children.deleteNode(node);node=_22._700(node)}keys=children.keys()}});return moved};TreeMirrorClient.prototype.serializeAttributeChanges=function(attributeChanged){var _34=this;var map=new MutationSummary.NodeMap();Object.keys(attributeChanged).forEach(function(attrName){attributeChanged[attrName].forEach(function(element){if(element.hasAttribute&&element.hasAttribute('data-mf-replace')||_23._217(element,'data-mf-replace')||_23._217(element,'data-mf-replace-inner')){return}if(_477(element))_317(element,_313,true,true);if(_409(element))_317(element,_316,true,true);var record=map.get(element);if(!record){record=_34.serializeNode(element);if(record){record.attributes={};map.set(element,record)}}if(record){if(attrName.toLowerCase()==='value'&&element.tagName==='INPUT')record.attributes.value=_261(element);else if(attrName==='mf_adoptedStyleSheets')_34.serializeAdoptedStyleSheets(element,record);else record.attributes[attrName]=element.getAttribute(attrName)}})});return map.keys().map(function(node){return map.get(node)})};TreeMirrorClient.prototype.serializeTextChanges=function(textChanges){var _34=this;return textChanges.map(function(node){var data=_34.serializeNode(node);if(data){if(node.tagName==='STYLE'&&/^\s*$/.test(node.textContent))data.textContent=_347(node.sheet);else data.textContent=_724(node)}return data})};TreeMirrorClient.prototype.applyChanged=function(summaries){_424();var summary=summaries[0];['removed','added','reparented','reordered','attributeChanged','characterDataChanged'].forEach(function(key){if(!summary[key])summary[key]=[]});var _34=this;var removed=summary.removed.map(function(node){return _34.serializeNode(node)});var moved=this.serializeAddedAndMoved(summary.added,summary.reparented,summary.reordered);var attributes=this.serializeAttributeChanges(summary.attributeChanged);var text=this.serializeTextChanges(summary.characterDataChanged);this.mirror.applyChanged({removed:_373(removed),addedOrMoved:_373(moved),attributes:_373(attributes),text:_373(text)});summary.removed.forEach(function(node){_34.forgetNode(node)});summary.added.forEach(function(node){_315(node)})};TreeMirrorClient.prototype.serializeChildNodes=function(node,data){const children=_22._180(node);if(!children.length)return;data.childNodes=[];let _218=false;for(const child of children){if(_674(child))_218=true;else if(_675(child.previousSibling))_218=false;if(_218)continue;const serializedChild=this.serializeNode(child,true);if(serializedChild){data.childNodes.push(serializedChild)}}};TreeMirrorClient.prototype.serializeAdoptedStyleSheets=function(_18,_7){if(!_18.adoptedStyleSheets)return;var _34=this;_7.css=_18.adoptedStyleSheets.map(function(_166){var _365={id:_34.knownNodes.get(_166)};if(!_365.id){_365.id=_34.rememberNode(_166);_365.text=_347(_166)}return _365})};return TreeMirrorClient})();function _373(_943){return _943.filter(function(_116){return _116})}function _935(node,data){for(var i=0;i<node.attributes.length;i++){var attr=node.attributes[i];if(_910(attr.name.toLowerCase()))continue;if(attr.name.toLowerCase()==='value'&&node.tagName==='INPUT')data.attributes.value=_261(node);else data.attributes[attr.name]=attr.value}}function _424(){_297(_728,_2._350);_297(_727,_2._639);_297(_665,_2._502);_297(_729,_2._633);_297(_482,['.mf-form']);_113._381();_381();_938()}function _297(_667,_666){_667.length=0;if(!_666.length)return;try{var _179=_355(_666.join(','),_14);for(var i=0;i<_179.length;i++){_667.push(_179[i])}}catch(e){}}function _381(){if(!_2.freezeElementIds)return;_2.freezeElementIds.forEach(function(_15){try{var _179=_355(_15,_14);_179.forEach(function(_18){if(_160.has(_18))return;if(_179.length>1)_15=_138(_18);_160.set(_18,_15)})}catch(e){}})}function _938(){_225.clear();const _939=_77._118();for(const _211 of _2._668){if(_211._332&&_211._332!=_939)continue;let _234;if(_211._1182){const _669=_355(_211._21,_14);if(!_669?.length)continue;_234=_669}else{const _680=_374(_211._21,false);if(!_680)continue;_234=[_680]}if(_211._364){const _670=_225.get(_82._364._24);if(_670)_234.forEach(_18=>_670.add(_18));else _225.set(_82._364._24,new Set(_234))}if(_211._395){const _671=_225.get(_82._395._24);if(_671)_234.forEach(_18=>_671.add(_18));else _225.set(_82._395._24,new Set(_234))}}}function _355(_15,_33){try{var _96=[];_15.split(',').forEach(function(_15){var _137=_15.split(' > :document-fragment: > ',2);_33.querySelectorAll(_137[0]).forEach(function(_0){if(_137[1]&&_0.shadowRoot){_355(_137[1],_0.shadowRoot).forEach(function(_0){_96.push(_0)})}else{_96.push(_0)}})});return _96}catch(_32){_5('Could not get element from selector: '+_32.message)}}function _672(_326,_906){const _7=[];const _673=_14.createElement('div');_673.innerHTML=_326;for(const _907 of _22._180(_673)){const _908=_906.call(this,_907);_7.push(_908)}return _7}function _674(_18){return _18&&_18.nodeType===8&&_18.textContent.trim().toLowerCase().indexOf('mouseflowexcludestart')===0}function _675(_18){return _18&&_18.nodeType===8&&_18.textContent.trim().toLowerCase().indexOf('mouseflowexcludeend')===0}function _910(_520){return _912.test(_520)}function _347(_166){var _223='';try{if(!_166||!_166.cssRules)return _223}catch(e){return _223}for(var _8=0;_8<_166.cssRules.length;_8++){_223+=_166.cssRules[_8].cssText}return _223}function _936(){_136({_16:_153+'install?websiteId='+_2._45,_133:function(){_5('Website installed signal sent.',_10())},_66:function(){_5('Error in transmitCrossDomain - could not signal that website was installed.',_10())}})}function _940(_46){_136({_16:_153+'config?websiteId='+_2._45,_133:function(_61){var _913=_23._319(_61._340);_2.keyLogging=_913.enableKeystrokes;_5('Fetched recording script configuration.');_46()},_66:function(){_5('Error in transmitCrossDomain - could not fetch recording script configuration.');_46()}})}function _31(){if(_83){_5('Recording script is already started',_10());return}if(!_425){_5('Recording not started - recording script is not initialized',_10());return}_5('Recording starting, version '+_150+(_2.gdprEnabled?', GDPR mode enabled':'')+(_2._480?', privacy enforced':''),_10());if(!_699())return;_83=true;_1098();_424();_12._68=_1168(_1._605);if(_916())_917();_1._226=_150;_914()}function _914(){var _676=_933();var _16=_153+'init?v='+_150+'&p='+_2._45+'&s='+_12._55+'&page='+_12._68+'&ret='+(_12._268?'1':'0')+'&u='+_12._183+'&href={href}'+'&url='+_95(_77._118())+'&ref={referrer}'+'&title='+_95(_14.title)+'&res='+_3.screen.width+'x'+_3.screen.height+'&tz='+_1166()+'&to='+_12._705+'&dnt='+_12._703+'&ori='+(typeof _3.orientation!='undefined'?_3.orientation:'')+'&dw='+_14.documentElement.clientWidth+'&dh='+_14.documentElement.clientHeight+'&time='+_1056()+'&pxr='+(typeof _3.devicePixelRatio!='undefined'?_3.devicePixelRatio:1)+(_676.length>0?'&fw='+_676.join(','):'')+'&gdpr='+(_2.gdprEnabled?1:0);_16=_16.replace('{href}',_985(_16.length)).replace('{referrer}',_95(_2.referrer));_911();if(_2.hasCustomHref)_115._841(['tag','mf_secret_custom-href']);var _678=_981(_63._787-_16.length-6);_16+=_984(_678);_136({_16:_16,_133:function(_61){if(_61._340==='Recording blocked'){_5('Recording not started - mf_block cookie set to 1',_10());return}const _677=parseInt(_61._340,10);if(isNaN(_677)){_5('Recording not started - init failed',_10());return}_1._768=_677;_678.forEach(function(_135){_630(_135.key,_135.value)});_167=true;_969();_190._31(_12,_1,_277);_115._31();_861();_857();_855()},_1138:true,_66:function(){_5('Error in transmitCrossDomain - recording not starting.',_10())}});_646();_1._103=null;_1167();_1._84={x:_3.pageXOffset,y:_3.pageYOffset};_840();_1._295=1;_454();_5('Recording started. '+'session: '+_12._55+', '+'page: '+_12._68+', '+'last page: '+_12._396+', '+'display URL: '+_77._118(),_10())}function _916(){return!_12._55||!_1162()||(_1._226&&_1._226!=='0'&&_1._226!==_150)||(+new Date()-_1._388)>_63._441}function _917(){_5('Starting new session');var _918=_12._55;_12._55=_429();_1._151=[];_12._273=0;if(_12._55===_918)throw Error('New session ID is identical to the old session ID. This might be because Math.random has been overwritten.')}function _70(_919){if(!_83)return;_946();_171=false;_739();_115._838();_17._101(_447);_17._101(_448);_17._101(_449);_17._172(_288);if(_296){_17._172(_296);_835()}if(_328){_17._172(_328);_638()}if(_451){_17._101(_451);_698()}_1097();if(!_919)_26(_6._920,{});_335();_167=false;if(_85)_85.disconnect();_190._70();_454();_1=_713();_5('Recording stopped',_10());_83=false;_423=false}function _342(_25,_64,_966){if(_10()<100){var _922=!_25||_25.toString()===_2.path;var _945=(_64||_3.location).href===_2.location.href;if(_922&&_945)return}if(_83)_70();_2.htmlDelay=_2.newPageViewHtmlDelay;_2._546(_25,_64);_2.forcePath=!!_966;_12._68='';_1._894=true;if(!_425)_327();_31();_494(0)}function _946(){if(_1._124){if(+new Date()-_1._124<_2.registerSubmitTimeout){_5('Registering formSubmit',_10())}else{_5('Not registering formSubmit. Timeout exceeded.',_10());_1._103=null}}}function _553(){_70();_909('mf_'+_2._45);if(_3.name&&((_3.name.length===35&&_3.name.indexOf('mf_')===0)||(_2.crossDomainSupport&&_3.name.indexOf('mf_'+_2._45)===0)))_3.name=''}function _969(){if(_2.htmlFetchMode==='post'){_17._172(_679);_679=_17._48(function(){_970()},_2.htmlDelay)}else{_5('Html not sent due to mouseflowHtmlFecthMode setting',_10())}}function _970(){if(_85)_85.disconnect();const _53={_45:_2._45,_55:_12._55,_68:_12._68};_399({initialize,applyChanged});_315(_14.body);function initialize(_971,_120){if(_53._68===_12._68)_171=true;_17._48(function(){_1128({_53:_53,_7:{f:'initialize',args:[_971,_120]},_152:_14.documentElement.innerHTML.length})},1)}function applyChanged(_176){const _972=_10()-_1._462<30000;const _973=_176.removed.length||_176.addedOrMoved.length||_176.attributes.length||_176.text.length;if(!_972||!_973)return;_1015({_53:_53,_7:{f:'applyChanged',args:[_176.removed,_176.addedOrMoved,_176.attributes,_176.text]}})}}function _399(_656){if(_85)_85.disconnect();_85=new TreeMirrorClient(_14,{initialize:_656.initialize??function(){},applyChanged:_656.applyChanged??function(){}});_1139();_315(_14.body)}function _535(){if(_85)_85.disconnect()}function _698(){if(!_83)return;_974();_978();_986()}function _974(){const _975=_3.dataLayer||[];const _655=[];let _337=_975.filter(item=>item[0]==='event');for(let i=_1._375||0;i<_337.length;i++){_655.push({"eventName":_337[i][1],"eventObject":_337[i][2]})}_1._301.push(..._655);_1._375=_337.length}function _978(){const _260=_3.s||[];if(typeof AppMeasurement==='undefined'||_260?.constructor!==AppMeasurement){return}const _28={props:{eventName:'props',eventObject:{}},eVars:{eventName:'eVars',eventObject:{}}};for(const key in _260){if(key.startsWith('prop')&&_260[key]!=null){_28.props.eventObject[key]=_260[key]}else if(key.startsWith('eVar')&&_260[key]!=null){_28.eVars.eventObject[key]=_260[key]}}const _634=_102(JSON.stringify(_28));if(_1._376!==_634){_1._376=_634;_1._301.push(_28.props,_28.eVars)}}function _554(_11,_4,_979,_635){if(!_83)return;if(!_636(_11,_4))return;if(!_630(_11,_4)){_5('Variable already set to same value, not triggering callback.',_10());return}var _7={key:_11.toString(),value:_4.toString()||'',scope:_979||'session',overwrite:_635===undefined?true:_635};_1._140.push(_7);_17._172(_328);_328=_17._48(_638,1000)}function _636(_11,_4){if(!_11||!_4){_5('Variable key and value cannot be empty',_10());return false}if(_11.includes('=')){_5('Variable key cannot contain "="',_10());return false}if(_11.length>100){_5('Variable key cannot be more than 100 characters',_10());return false}if(_4.length>2000){_5('Variable value cannot be more than 2000 characters',_10());return false}return true}function _981(limit){var _75=_115._1071();if(!_75.length)return[];var _140=[];var _637=0;for(var _40=0;_40<_75.length;_40++){var _51=_75[_40];if(!_51||!_51.length||_51[0]!=='setVariable')continue;if((_51.length>3&&_51[3]!=='session')||(_51.length>4&&_51[4]!==true))continue;var _11=_51[1];var _4=_51[2];if(!_636(_11,_4))continue;if(_629(_11)!==-1)continue;var _983=_95(_11)+'='+_95(_4);_637+=_983.length+1;if(_637-1>=limit)break;_140.push({key:_11,value:_4});_75.splice(_40,1);_40--}return _140}function _984(_140){var _397=_140.map(function(_135){return _95(_135.key)+'='+_95(_135.value)}).join('&');return _397?'&vars='+_95(_397):''}function _638(){_328=0;for(var _8=0;_8<_1._140.length;_8++){var _135=_1._140[_8];_5('Setting custom variable: '+_135.key+' = '+_135.value+', overwrite: '+(_135.overwrite===undefined?true:_135.overwrite),_10())}_277('variable',_1._140);_1._140=[]}function _986(){if(!_2.enableDataLayerCapture)return;if(_1._301.length)_277('datalayer',_1._301);_1._301=[]}function _72(_901){_26(_6._72,{target:_901})}function _547(){_26(_6._72,{target:'*'})}function _544(_968){if(!_83)return;if(_2.gdprEnabled||_2._480){_5('User identification not allowed (privacy enforced in script)',_10());return}_277('identify',{userId:_12._183,userName:_968})}function _531(_38){if(!_83)return;_5('Registering form submit attempt on this page',_10());_459(_442(_38))}function _323(_38){if(!_83)return;var _435=_10();if(_1._103===_102(_2.path||_2.location.pathname)||_435>5000){_5('Registering form submit success on this page',_10());if(!_1._103){_26(_6._265,{element:_442(_38)})}_26(_6._640,{});_1._124=undefined;_1._103=undefined}else{_17._48(function(){_5('Registering form submit success on previous page',_10());_434([{_20:_6._640}],_641())},_643())}}function _343(_38){if(!_83)return;var _435=_10();if(_1._103===_102(_2.path||_2.location.pathname)||_435>5000){_5('Registering form submit failure on this page',_10());if(!_1._103){_26(_6._265,{element:_442(_38)})}_26(_6._241,{});_127(_82._241);_1._124=undefined;_1._103=undefined}else{_17._48(function(){_5('Registering form submit failure on previous page',_10());_434([{_20:_6._241},{_20:_6._62,_19:_377(_82._241)},{_20:_6._72,_19:{target:_82._241._24}}],_641())},_643())}}function _641(){const _422=_12._97.find(_53=>_53._57===_12._396)?._69;if(_1._124&&_422&&_1._124>_422&&_1._124<_1._69){return _1._124-_422}return 0}function _643(){var _644=1000;var _645=new Date()-_1._124;return _645>_644?0:_644-_645}function _442(_38){if(_38 instanceof Element)return _38;const _952=_950.filter(_419=>_419._362===_38).map(_419=>_419._21);const _21=_952[0];return _374(_21||_38)}function _459(_38){if(!_83||!_38||_318(_38))return;if((+new Date())-_1._714<20)return;_1._714=+new Date();const _362=_138(_38);_26(_6._265,{element:_38,target:_362});const _305=_881(_38);const _300=_1._300[_362];if(!_300){_1._300[_362]=_305}else{_1113(_305,_300)}_1116(_305);_879(_38);_1._124=+new Date();_1._103=_102(_2.path||_2.location.pathname);_646()}function _646(){if(!_1._103)return;var _191=_958();if(_191.length){_954(_191);return}if(_1._103!==_102(_2.path||_2.location.pathname)){_323()}}function _954(_191){var _647=_191.filter(function(_2){return!_2.target})[0];if(_647){_650(_647);return}_961(function(){var _648=_191.filter(function(_2){return _2.target&&_960(_2.target)})[0];if(!_648)return false;_650(_648);return true},_63._965,_63._957)}function _958(){if(!_2.forms)return[];var _191=_2.forms.filter(function(_361){if(_361.formPath&&_102(_361.formPath)!==_1._103)return false;if(_361.redirectPath&&_361.redirectPath!==_2.location.pathname)return false;return true});return _191}function _960(_21){var _0=_14.querySelector(_21.selector);if(!_0)return false;if(!_21.text)return true;return _0.textContent.toLowerCase().includes(_21.text.toLowerCase())}function _650(_2){if(_2.result==='success'){_323()}else if(_2.result==='failure'){_343()}}function _961(_46,_652,_963){var _69=new Date();var _651=function(){var _962=new Date()-_69;if(_962<_963&&!_46())_17._48(_651,_652)};_17._48(_651,_652)}function _127(_62,_0,_21){if(!_83||!_62)return;const _331=_867(_62,_0);const _341=_377(_62,_0,_21,_331);if(!_341)return;_26(_6._62,_341);if(!_331)_190._902(_62._24)}function _377(_62,_0,_21,_331){let _334=+_62._4;let _24=_62._24||'custom-friction'+(_62._784?('-'+_62._784):'');if(_331)_24+='__MUTED';const _418=_1._360.findIndex(e=>e._24===_24&&e._21===_21);const _413=_418>-1?_1._360[_418]:null;if(_413){const _964=new Date()-_413._100;if(_964<_62._125)return;_1._360.splice(_418,1)}_1._360.push({_24:_24,_21:_21,_100:new Date()});if((_331||_413)&&!_24.includes('custom-friction'))_334=0;const _341={value:_24,element:_0,target:_21||'',x:_334>0?_334:0,y:_334<0?_334*-1:0,};return _341}function _867(_62,_0){if(!_0||!_62||!_2._668.length)return false;const _682=_225.get(_62._24);if(!_682)return false;if(_406(_0,(_862)=>_682.has(_862)))return true;return false}function _861(){if(_12._97.length<2)return;var _231=_12._97[_12._97.length-2];var _306=_12._97[_12._97.length-1];var _195=_102(_2.path||_2.location.pathname);if(_231._195===_195&&_231._195!==_306._195&&_1._69-_306._69<10000){_434([{_20:_6._62,_19:_377(_82._683)},{_20:_6._72,_19:{target:_82._683._24}}])}}function _857(){if(_12._97.length<4)return;var _710=_12._97[_12._97.length-5];var _231=_12._97[_12._97.length-4];if(_1._69-_231._69<30000){if(_710&&_231._69-_710._69<30000)return;_599(_231._57,[{_20:_6._62,_19:_377(_82._712)},{_20:_6._72,_19:{target:_82._712._24}}])}}function _855(){const _235=_432();const _870=_235.responseStatus;if(_870===404){_127(_82._508);return}const _885=_2.notFoundIdentifiers.map(a=>new RegExp(a,'i')).some(a=>a.test(_14.title));if(_885){_127(_82._508);return}}function _303(){if(!_83)return;_190._303.apply(_190,arguments)}function _898(){return{_55:'',_68:'',_183:'',_268:false,_705:+('ontouchstart'in _3&&_2.touchEvents),_703:(navigator.doNotTrack==='yes'||navigator.doNotTrack==1||window.doNotTrack==1||navigator.msDoNotTrack==1)?1:0,_273:0,_396:'',_97:[],_308:[],_379:_117._601(),_177:null}}function _713(){return{_605:new Date(),_69:+new Date(),_768:null,_286:+new Date(),_388:+new Date(),_894:false,_7:[],_130:[],_52:[],_618:[],_684:{},_134:[],_60:[],_146:[],_623:0,_624:0,_200:0,_483:'',_714:0,_224:[],_360:[],_139:{x:0,y:0},_842:{x:0,y:0},_751:{x:0,y:0},_707:-100,_84:{x:0,y:0},_216:{x:0,y:0},_764:new Map(),_761:new Map(),_486:-100,_485:-100,_181:{x:0,y:0},_756:{x:1,y:1},_754:{x:0,y:0},_491:[],_872:0,_202:[],_140:[],_295:1,_462:0,_598:0,_300:{},_151:[],_801:0,_796:0,_800:0,_308:[],_310:0,_197:0,_147:null,_143:_878(),_760:0,_744:0,_743:false,_456:false,_226:0,_689:false,_695:false,_301:[],_375:0,_376:'',}}function _715(_18,_42){let _120=[];for(const _80 of _22._180(_18)){if(_42&&_42(_80))_120.push(_80);_120=_120.concat(_715(_80,_42))}return _120}function _716(_38,_42){return _38.elements?Array.from(_38.elements).filter(_42):_715(_38,_42)}function _881(_38){const _120=_716(_38,function(_9){return/input|select|textarea/i.test(_9.tagName)&&!/hidden|submit|reset|image|button/i.test(_9.type)});const _259=new Map();for(const _0 of _120){const _21=_138(_0);const _4=_248(_0);const _112=_259.get(_21);if(_112){_112._4+=', '+_4}else{const _15=_113._196(_0);_259.set(_21,{_21,_15,_4})}}return _259}function _879(_38){if(!_12._379)return;var _120=_716(_38,function(_9){return/input|textarea/i.test(_9.tagName)&&!/hidden|submit|reset|image|file|button|password/i.test(_9.type)});_120.forEach(function(_9){var _4=_248(_9);if(!_4||_4.length<=3||_199(_4)||_489(_9))return;var _106=_718(_4);if(_106.length===0)return;var _209=[];for(let _8=0;_8<_106.length;_8++){_209.push(_106[_8]._119)}var _222=false;for(let _8=0;_8<_1._143.length;_8++){var _304=_1._143[_8];_222=_209.length===_304.length&&_722(_304,_209)===0;if(_222)break}if(!_222)_1._143.push(_209)});if(_1._143.length){_1._143=_1._143.slice(-100);_876(_1._143)}}function _876(_52){_71._266('mf_replaceHashes',_52)}function _878(){return _71._283('mf_replaceHashes')||[]}function _849(_4){if(_1._143.length===0)return _4;var _106=_718(_4);for(var _8=0;_8<_1._143.length;_8++){var _304=_1._143[_8];var _212;do{var _324=_212!==undefined?_212+1:0;_212=_722(_106,_304,_324);if(_212!==-1){var _31=_106[_212]._31;var _253=_106[_212+_304.length-1]._253;var _895=_982('*',_253-_31);_4=_4.slice(0,_31)+_895+_4.slice(_253)}}while(_212!==-1)}return _4}function _718(_4){var _209=[];var _31;function _721(_253){if(_31===undefined)return;var _719=_4.slice(_31,_253);_209.push({_31:_31,_253:_31+_719.length,_119:_102(_719)});_31=undefined}for(var _8=0;_8<_4.length;_8++){var _507=_4[_8];if(_915(_507)){if(_31===undefined){_31=_8}}else{_721(_8)}}_721();return _209}function _722(_233,_106,_324){for(var _8=_324||0;_8<_233.length;_8++){if(_8+_106.length>_233.length)break;if(_864(_233,_106,_8))return _8}return-1}function _864(_233,_106,_324){var _222=false;for(var _8=_324||0,_187=0;_8<_233.length&&_187<_106.length;_8++,_187++){_222=_233[_8]._119===_106[_187];if(!_222)break}return _222}function _248(_0){let _4='';if(_0.type&&/radio|checkbox/.test(_0.type.toLowerCase())){_4=_0.checked?_0.value:''}else if(_0.tagName&&/select/.test(_0.tagName.toLowerCase())&&_0.options){for(let j=0;j<_0.options.length;j++){const _205=_0.options[j].selected?_0.options[j].value:'';if(_205&&_205!='')_4+=(_4&&_4!=''?',':'')+_205}}else{_4=_0.value}return _4||''}function _261(_0){if(_0.type==='password')return'*';var _4=_248(_0);if(_708(_0)){_4=_4.replace(/./g,_720(_0.type))}else if(_694(_0)&&!_489(_0)){_4=_4.slice(0,2)+_4.slice(2).replace(/./g,_720(_0.type))}return _4}function _724(_0){var _232=_0.textContent;if(_0.nodeType===3&&_22._73(_0))_0=_22._73(_0);var _725=_849(_232);if(_725!==_232&&_2.replaceLastFormValues)_232=_725;if(_880(_0))_232=_232.replace(/./g,'*');return _232}function _899(_18,_7){var _726=_781(_18);if(_18.id)_7.attributes.id=_18.id;if(_18.name)_7.attributes.name=_18.name;_7.attributes.style=(_18.style?_18.style.cssText+'; ':'')+'width: '+_726.width+'px; height: '+_726.height+'px;'+(_3.getComputedStyle(_18).display==='inline'?' display: inline-block;':'')}function _489(_0){return _23._145(_0,'mouseflow')||_727.indexOf(_0)!==-1}function _318(_0){if(!_0)return false;if(_0[NodeMap.ID_PROP])return!!_262(_0,_313);if(_406(_0,_477))return true;return false}function _409(_0){if(!_0)return false;if(_0[NodeMap.ID_PROP])return!!_262(_0,_316);if(_406(_0,_490))return true;return false}function _477(_0){return _728.indexOf(_0)!==-1||_23._145(_0,'no-mouseflow-dom')||_23._145(_0,'mf-excluded')}function _490(_0){return _729.indexOf(_0)!==-1||_23._145(_0,'mf-masked')}function _730(_0){return _23._145(_0,'no-mouseflow')||(!_2.keyLogging&&!_489(_0))||_318(_0)||_409(_0)}function _708(_0){return(_730(_0)||_199(_248(_0))||_883(_0))&&_709(_0)&&!_877.test(_0.type)}function _880(_0){return(_0.isContentEditable||_0.tagName==='TEXTAREA')&&_730(_0)}function _883(_0){return(_2.gdprEnabled||_2._480)&&(_859(_0)||_852(_0))}function _199(_4){var _481=_4.replace(/[-\s]+/g,'');if(!_890.test(_481)||!_891.call(this,_481))return false;return!_892.every(function(_731){if(_731.patternRegex.test(_481)){_5("Identified credit card "+_731.name);return false}return true})}function _859(_0){return/email/i.test(_0.type)||_856.test(_0.value)}function _852(_0){return/tel/i.test(_0.type)}function _694(_0){return _709(_0)&&/^\d{3}[^a-z]*$/i.test(_0.value)}function _709(_0){return _0.tagName==='INPUT'||_0.tagName==='TEXTAREA'}function _720(_988){return/number/i.test(_988)?'0':'*'}function _1169(_29){return _708(_29.target)||_694(_29.target)?'191':(_29.which&&_29.which.toString())||''}function _1174(_0){var _685=_138(_0);var _368=_1._684[_685];var _370=_261(_0);var _28=_370;if(_368&&_368.length>3&&_370.indexOf(_368)===0)_28='+||'+_370.substring(_368.length);_1._684[_685]=_370;return _28}function _1113(_238,_686){try{const _1114=new Set(_238.keys());const _1115=new Set(_686.keys());for(const _11 of _1114.union(_1115)){const _163=_238.get(_11);const _687=_686.get(_11);const _112=_163??_687;if(_163?._4===_687?._4)continue;_26(_6._416,{target:_112._21,selector:_112._15})}}catch(_32){_5('Error in _addChangedFieldEvents: '+_32.message,_10())}}function _1116(_305){try{for(const[,_112]of _305){if(_112._4)continue;_26(_6._414,{target:_112._21,selector:_112._15})}}catch(_32){_5('Error in getBlankFields: '+_32.message,_10())}}function _415(_0){if(_482.includes(_0))return null;return _0.form||_482.filter(function(_38){return _38.contains(_0)})[0]||null}function _1104(){_1119();_1122()}function _454(){_1121();_701()}function _1119(){var _688=_847('mf_user').split('|');for(var _8=0;_8<_688.length;_8++){var _76=_688[_8];switch(_8){case 0:_12._183=_76;break;case 1:_12._308=_76!==''?_76.split(/[$,]+/):[];break}}_12._268=_12._183!=='';if(_12._183===''||_12._183==='1')_12._183=_429();_1._689=true}function _1121(){if(!_1._689)return;_839('mf_user',[_12._183,_12._308.join('$')].join('|'),1,_23._314(_64,_2))}function _1122(){var _690=_847('mf_'+_2._45).split('|');for(var _8=0;_8<_690.length;_8++){var _76=_690[_8];switch(_8){case 0:_12._55=_76;break;case 1:_12._97=_1109(_76,_12._68);break;case 2:_1._388=parseInt(_76,10);break;case 3:_1._151=_76!==''?_76.split('.'):[];break;case 4:_12._273=parseInt(_76,10);break;case 5:_1._103=_76;break;case 6:_1._124=parseInt(_76,10);break;case 7:_1._308=_76!==''?_76.split(/[$,]+/):[];break;case 8:_12._268=_76==='1';break;case 9:_1._226=_76;break;case 10:_12._177=parseFloat(_76);break;case 11:_1._375=parseInt(_76,10);break;case 12:_1._376=_76;break}}if(!_12._55)_12._55=_2.sessionId||_1124();if(!_12._177)_12._177=_1125();var _306=_12._97[_12._97.length-1];if(_306)_12._396=_306._57;_1._695=true}function _1124(){var sessionId=_631();return sessionId&&sessionId.length===32?sessionId:null}function _1125(){var recordingRate=_631();return/^\d+\.\d+$/.test(recordingRate)?parseFloat(recordingRate):null}function _631(){return _2.crossDomainSupport&&_3.name&&_3.name.indexOf('mf_'+_2._45)===0?_3.name.split('=')[1]:null}function _701(){if(!_1._695)return;_839('mf_'+_2._45,[_12._55,_1096(),_1._388,_1._151.join('.'),_12._273,_1._103||'',_1._124||'',_1._308.join('$'),_12._268?'1':'0',_1._226,_12._177,_1._375||0,_1._376||''].join('|'),0,_23._314(_64,_2));if(_2.crossDomainSupport)_3.name='mf_'+_2._45+'='+(_12._55||_12._177)}function _1109(_4,_68){return _4.split(/[$,]+/).map(function(_53){var _52=_53.split('.');return{_57:_52[0],_195:_52[1],_69:+_52[2]}}).filter(function(p){return p._57!==_68}).slice(-5)}function _1096(){var _466=_12._97;if(_12._68){_466=_466.concat([{_57:_12._68,_195:_102(_2.path||_2.location.pathname),_69:_1._69}]).slice(-6)}return _466.map(function(_53){return _53._57+'.'+_53._195+'.'+_53._69}).join('$')}var _344='__mouseflow_properties__';var _313='is-blacklisted';var _316='is-masked';function _262(_18,_11){if(!_18)return null;var _254=_18[_344];return _254?_254[_11]:null}function _317(_18,_11,_4,_1093){var _254=_18[_344];if(!_254)_254=_18[_344]={};_254[_11]=_4;if(_1093){for(const _80 of _22._180(_18)){_317(_80,_11,_4,true)}}}function _697(_18){delete _18[_344];for(const _80 of _22._180(_18)){_697(_80)}}function _1097(){_697(_14.body)}function _1098(){_1._69=+new Date();_1._286=+new Date();_447=_17._159(_840,_63._632);_448=_17._159(_995,_63._1099);_449=_17._159(_470,_63._1100);_288=_17._48(_125,_63._441);if(_2.enableDataLayerCapture)_451=_17._159(_698,_63._1103)}function _942(){if(!_826(_2.location.hostname))return false;if(_813()){_5('Recording not started - browser is IE8 or older');return false}return _699()}function _699(){_1104();if(_2.forceStart)return true;if(_1160()){_5('Recording not started - session ID is invalid.',_10());return false}if(_1159()){_5('Recording not started - honored "do not track" browser setting.',_10());return false}if(_1161()){_5('Recording not started - the browser was identified as a bot.',_10());return false}if(!_330._543(_165)){_5('Recording not started - page does not match page rules',_10());return false}var _346=_1133.filter(function(_65){return _330._256(_65)}).sort(_1137)[0];if(_346){_178=_346._178;_5('Recording rate set from page recording rule: '+_346._20+', "'+_346._4+'"',_10())}if(!_12._177)_12._177=_1158();var _702=_12._55||_12._177<=_178;if(!_702)_5('Recording not started - recordingRate or blocked',_10());_701();return _702}function _1137(_1157,_1134){return _1134._178-_1157._178}function _1158(){return _93.round(_93.random()*10000000)/100000}function _1159(){return _2.honorDoNotTrack&&_12._703}function _1160(){return _12._55&&_12._55.length!=32}function _1161(){if(_2.enableBots)return false;return _3.navigator.webdriver||/ptst|headlesschrome|lighthouse/i.test(_3.navigator.userAgent)}function _1162(){return(_12._273<_63._1163)}function _1168(_100){return _382(_100.getMonth()+1,2)+_382(_100.getDate(),2)+_382(_100.getSeconds(),2)+_382(_100.getMilliseconds(),3).slice(1)+_429()}function _382(_1165,_215){return(new Array(_215+1).join('0')+_1165).slice(-_215)}function _1166(){var _704=new Date();return _93.max(new Date(_704.getFullYear(),0,1).getTimezoneOffset(),new Date(_704.getFullYear(),6,1).getTimezoneOffset())}var _573=false;function _1167(){try{_452(_14);_87(_14,'mousemove',function(_9){_1._139={x:_9.pageX,y:_9.pageY}});_458(_14.documentElement,'mouseleave',function(){_26(_6._1170,{});_72('mouse-out')});_87(_14,'mousedown',function(_9){_1005(_9,_9.target)});_87(_14,'mouseup',function(_9){_1006(_9,_9.target)});_574(_14,'click',_571,function(_9){_1008(_9,_9.delegatedTarget||_9.target);if(!_9.delegatedTarget){const stylesBeforePotentialMutation={..._579(_9.target)};if(_2.enableDeadClick)_17._48(()=>_1141(_9,stylesBeforePotentialMutation),1)}});try{var _460=_1067();if(_460){_458(_14,'mouseenter',_460,function(_9){var _194=_401(_6._192).filter(function(_116){return _9.delegatedTarget&&_9.delegatedTarget.matches(_116._15)})[0];if(_194)_72(_194._72);_26(_6._192,{x:_9.pageX,y:_9.pageY,element:_9.target})});_458(_14,'mouseleave',_460,function(_9){_26(_6._269,{x:_9.pageX,y:_9.pageY,element:_9.target})})}}catch(_32){_5('Error in getHoverSelectors: '+_32.message,_10())}_87(_14,'focus','input,textarea,select,button',function(_9){_26(_6._437,{element:_9.target})});_87(_14,'blur','input,textarea,select,button',function(_9){_26(_6._439,{element:_9.target})});_87(_14,'keypress','input,textarea,select',function(_9){if(_9.target&&_9.target.type!=='password'){_26(_6._389,{element:_9.target})}});_87(_14,'keydown','input,textarea,select',function(_9){if(_9.target&&_9.target.type!=='password'){_26(_6._293,{element:_9.target,value:_1169(_9)})}});_87(_14,'keyup','input,textarea,select',function(_9){if(_9.target&&_9.target.type!=='password'){_26(_6._280,{element:_9.target,value:_1174(_9.target)});if(_199(_248(_9.target))&&_2.autoTagPayments)_72('payment')}});_87(_14,'change','input,textarea,select',function(_9){_26(_6._230,{element:_9.target,value:_261(_9.target)});if(_9.target&&['password','file'].indexOf(_9.target.type)===-1&&_199(_248(_9.target))&&_2.autoTagPayments)_72('payment')});_450(_14);if(_12._705){_87(_14,'touchstart',function(_9){var _91=_9.touches;if(_91.length>0){_26(_6._445,{x:_91[0].pageX,y:_91[0].pageY})}if(_91.length>1){_26(_6._474,{x:_91[1].pageX,y:_91[1].pageY})}});_87(_14,'touchmove',function(_9){var _91=_9.touches;var _352=_10();var _461=_352-_63._632;if(_91.length>0&&_1._707<_461){_26(_6._469,{x:_91[0].pageX,y:_91[0].pageY});if(_91.length>1){_26(_6._475,{x:_91[1].pageX,y:_91[1].pageY})}_1._707=_352;var _1154=!_157(_369(),_1._181);if(_1154){_1._181=_369();_26(_6._398,_1._181);if(_1._485<_461){_26(_6._398,_1._181);_1._485=_352}}_1._84={x:_3.pageXOffset,y:_3.pageYOffset};if(_1._486<_461&&!_157(_1._84,_1._216)){_1._216=_1._84;_26(_6._387,_1._84);_1._486=_352}}});_87(_14,'touchend',function(_9){var _91=_9.touches;if(_91.length===0)_26(_6._402,{x:0,y:0});if(_91.length>1)_26(_6._476,{x:0,y:0})});if(_3.screen.orientation){_87(_3.screen.orientation,'change',function(){_26(_6._472,{x:_3.screen.orientation.angle,y:0})})}}_87(_3,_926(),function(){_70()});var _575=_3.onerror;_3.onerror=function(_92,_16,_467,_487,_464){var _1136=new Date()-_1._197;if(_1136>1000&&_1._310<50){_1._197=+new Date();var _463='Malformed error';if(_92&&_92.message)_463=_92.message;else if(typeof _92==='string')_463=_92;_1._147={_92:_463,_16:typeof _16==='string'?_16:'Malformed URL',_467:''+_467,_487:''+_487,_994:_464&&_464.stack&&_464.stack.substring(0,800),_1186:_1._197};if(_1._200!==0&&_1._197-_1._200<100){const _0=_374(_1._483);_127(_82._625,_0,_1._483);_626()}}if(_575)_575.apply(this,arguments)};if(_2.keyLogging)_996()}catch(_32){_5('Error in bindDomEvents: '+_32.message,_10())}}function _1139(){if(_573)return;try{if(_2.proxyAttachShadow)_255();_587();_1035();if(_2.proxyValueSetter)_611()}catch(_32){_5('Could not initialize proxies: '+_32.message,_10())}finally{_573=true}}function _1141(_9,_572){if(_563(_9))return;if(_443(_9.target))return;const _1142=_3.getSelection();const _1144=(_585(_9.target)||_1017(_572)||_443(_9.target)||_1036(_9.target)||_563(_9)||_1142.type==='Range');if(_1144)return;if(_1018(_9.target,_572)||_1019(_9.target,_9.clientX,_9.clientY)||_1084(_9.target)){_567(_9.target);return}const _570=_577(_9.target);if(_570){_567(_9.target,_570)}}function _567(_0,_1147=null){_127(_82._364,_0);_1148(_1147??_0)}function _1148(_1150){if(!_2.debugDeadClick){if(_473){for(const _0 of _14.getElementsByClassName(_333)){_0.classList.remove(_333)}}return}if(!_473){const _129=_14.createElement('style');_129.textContent=`.${_333} { outline: solid red }`;_14.head.append(_129);_473=true}const _96=new Set([..._14.getElementsByClassName(_333),_1150]);for(const _0 of _96){_0.classList.toggle(_333)}}function _568(_580){return _580==='true'||_580==='plaintext-only'}function _563(_9){const _1152=_9.target.getAttribute('contenteditable');if(_568(_1152)){return true}const _1086=_9.target.closest('[contenteditable]');const _1105=_1086?.getAttribute('contenteditable');if(_568(_1105)){return true}}function _1084(_0){return _0&&_0.tagName==='I'}function _443(_0){return _0&&_0.tagName==='LABEL'&&_0.control&&_585(_0.control)}function _1036(_0){const _569=_0.closest('label');return _569&&_443(_569)}function _585(_0){return _0.matches(_571)}function _1017(_321){return _321.cursor&&_321.cursor!=='default'&&_321.cursor!=='auto'}function _1018(_0,_321){return _0.tagName==='IMG'||_0 instanceof SVGElement||_321.backgroundImage?.startsWith('url')}function _1019(_0,x,y){for(const node of _22._180(_0)){if(node.nodeType!==Node.TEXT_NODE){continue}const _576=_14.createRange();_576.selectNodeContents(node);for(const rect of _576.getClientRects()){if(rect.left<x&&rect.right>x&&rect.top<y&&rect.bottom>y){return true}}}return false}function _577(_0,_578=1){if(!_0||_578>5)return null;const _129=_579(_0);const _1020=parseInt(_129.borderWidth,10);const _1021=parseInt(_129.outlineWidth,10);if(_1020>0||_1021>0)return _0;return _577(_22._1092(_0),_578+1)}function _579(_0){let _129=_320.get(_0);if(_129)return _129;_129=_3.getComputedStyle(_0);_320.set(_0,_129);if(_320.size>100)_320.delete(_320.keys().next().value);return _129}function _452(_33){_574(_33,'scroll','body,div,section,main,article,ul,.mf-scroll-listen',function(_9){if(_9.target===_14){_1._84={x:_3.pageXOffset,y:_3.pageYOffset}}else if(_9.target===_354){_1._84={x:_9.target.scrollLeft,y:_9.target.scrollTop}}else{const _21=_138(_9.target);_1._764.set(_21,{target:_21,selector:_113._196(_9.target),x:_9.target.scrollLeft,y:_9.target.scrollTop})}})}function _450(_33){_87(_33,'click','.mf-form-button',function(_9){_459(_415(_9.target))});_87(_33,'submit','form',function(_9){_459(_9.target)})}function _87(_21,_6,_42,_46){_54._175(_21,_6,_42,_46,{_170:true})}function _458(_21,_6,_42,_46){_54._175(_21,_6,_42,_46,{_170:true,_832:true})}function _574(_21,_6,_42,_46){_54._175(_21,_6,_42,_46,{_170:true,_1076:true})}function _1035(){var _1026=CSSStyleSheet.prototype.insertRule;var _559;var _246=[];CSSStyleSheet.prototype.insertRule=function(){_1026.apply(this,arguments);if(!_171)return;var _18=this.ownerNode;if(_246.indexOf(_18)<0)_246.push(_18);_17._172(_559);_559=_17._48(function(){_246=_246.filter(function(_18){return _18&&_85.isKnownNode(_18)});_85.applyChanged([{characterDataChanged:_246}]);_246=[]},200)}}var _457=HTMLElement.prototype.attachShadow;var _405=false;function _1029(){var _69=new Date();var _1031=_17._159(function(){var _1030=new Date()-_69;if(HTMLElement.prototype.attachShadow!==_457||_1030>10000){_17._101(_1031);_255()}},200)}function _1032(){if(!_405||HTMLElement.prototype.attachShadow!==_562)return;_5('Resetting "attach shadow" proxy');delete HTMLElement.prototype.attachShadow;_405=false}function _255(){if(_405)return;if(!_171){_17._48(_255,200);return}_5('Setting up "attach shadow" proxy');_457=HTMLElement.prototype.attachShadow;HTMLElement.prototype.attachShadow=_562;_405=true}function _562(){var _185=_457.apply(this,arguments);if(_171&&_85.isKnownNode(this)){_452(_185);_450(_185);_85.addShadowRoot(_185)}return _185}function _315(_0){if(_0.shadowRoot){_452(_0.shadowRoot);_450(_0.shadowRoot);_85.addShadowRoot(_0.shadowRoot);_315(_0.shadowRoot)}for(let _80=_0.firstElementChild;_80;_80=_80.nextElementSibling){_315(_80)}}function _587(){if(!_171){_17._48(_587,200);return}_312(Document.prototype,'adoptedStyleSheets',{_104:_610});_312(ShadowRoot.prototype,'adoptedStyleSheets',{_104:_610})}function _610(){if(!_171)return;_85.applyChanged([{attributeChanged:{'mf_adoptedStyleSheets':[this]}}])}function _611(){if(!_171){_17._48(_611,200);return}_312(HTMLInputElement.prototype,'value',{_104:_446});_312(HTMLTextAreaElement.prototype,'value',{_104:_446});_312(HTMLSelectElement.prototype,'value',{_104:_446})}function _446(){if(!_85.isKnownNode(this))return;_85.applyChanged([{attributeChanged:{'value':[this]}}])}function _312(_18,_142,_311){var _465=Object.getOwnPropertyDescriptor(_18,_142);if(!_311||!_465)return;Object.defineProperty(_18,_142,{get:function(){var _4=_465.get.apply(this,arguments);if(_311._141)_311._141.apply(this,arguments);return _4},set:function(){_465.set.apply(this,arguments);if(_311._104)_311._104.apply(this,arguments)}})}function _626(){if(_1._147){_1._310++;var _7={seq:_1._310,errorMsg:_1._147._92,url:_1._147._16,line:_1._147._467,col:_1._147._487,stack:_1._147._994,errorTime:_1._197};_26(_6._66,{x:_1._310,y:0});_5('JS error '+_1._310+', msg: '+_1._147._92,_10());_277('error',_7);_1._147=null}}function _739(){_54._1046();if(_484)_17._101(_484)}function _996(){_1._618=_619();_484=_17._159(function(){const _238=_619();_1011(_238,_1._618)},200)}function _619(){const _96=_14.querySelectorAll('input,textarea,select');const _259=new Map();for(const _0 of _96){if(_23._145(_0,'no-mouseflow'))continue;if(!_998(_0,['text','textarea','select-one']))continue;const _21=_138(_0);const _15=_113._196(_0);const _4=_261(_0);_259.set(_21,{_21,_15,_4})}return _259}function _998(_112,_999){return _112.type&&new RegExp(_999.join('|'),'i').test(_112.type)}function _1011(_238,_622){if(_10()-_1._598<100)return;for(const[_11,_163]of _238){const _621=_622.get(_11);if(_621&&_621._4!==_163._4){_26(_6._230,{target:_163._21,selector:_163._15,value:_163._4})}_622.set(_11,_163)}}function _1005(_9,_0){if((+new Date())-_1._623<20)return;_1._623=+new Date();_26(_6._294,{x:_9.pageX,y:_9.pageY,element:_0})}function _1006(_9,_0){if((+new Date())-_1._624<20)return;_1._624=+new Date();const _88=_747(_0,_9.pageX,_9.pageY);if(!_88)return;_26(_6._290,{x:_88.x,y:_88.y,element:_88._0})}function _1008(_9,_0){if((+new Date())-_1._200<20)return;var _21=_138(_0);_1._200=+new Date();_1._483=_21;_26(_6._186,{x:_9.pageX,y:_9.pageY,element:_0,target:_21});_1._224.push(_1._200);_1._224=_1._224.slice(-5);if(_1._224[4]-_1._224[0]<1000){_127(_82._395,_0,_21);_1._224=[]}if(_1._200!==0&&_1._197!==0&&_1._200-_1._197<100){_127(_82._625,_0,_21);_626()}var _194=_401(_6._186).filter(function(_116){return _0.matches(_116._15)})[0];if(_194){_72(_194._72);if(_194._596)_17._48(()=>_342(_194._596,null,true),1)}}function _747(_0,_299,_322){let _88=_478(_0,_299,_322);if(!_88){if(_0?.firstElementChild){_88=_478(_0.firstElementChild,_299,_322)}else if(_0?.parentElement){_0=_0.parentElement;_88=_478(_0,_299,_322)}}if(_88){_88._0=_0}return _88}function _478(_18,_299,_322){var _193=_781(_18);if(_193==null||!_193.height||!_193.width)return null;return{x:parseInt((_299-_1._84.x-_193.x)/parseFloat(_193.width)*65535),y:parseInt((_322-_1._84.y-_193.y)/parseFloat(_193.height)*65535)}}function _1066(){const _108=['a','input','select','button','textarea','.mf-listen-click'];_108.push.apply(_108,_591(_401(_6._186)));return _108.slice(0,1000).join(',')}function _1067(){var _608={};var _609=/[^(]:hover/;if(_2.useAllHoverSelectors){for(var _8=0;_8<_14.styleSheets.length;_8++){var _329=_14.styleSheets[_8];try{var _223=_329.cssRules?_329.cssRules:_329.rules;for(var _187=0;_187<_223.length;_187++){var _628=_329.cssRules[_187];if(!_609.test(_628.selectorText))continue;let _108=_628.selectorText.split(',');var _15;for(var _412=0;_412<_108.length;_412++){_15=_108[_412].replace(/^\s+|\s+$/g,'');if(_609.test(_15)){_15=_15.substring(0,_15.indexOf(':hover'));_15=_1079(_15);_608[_15]=true}}}}catch(_32){_5('Cannot inspect external css file, :hover support may fail: '+_329.href)}}}let _108=['a','input','select','button','textarea','li','canvas','.mf-listen'];for(_15 in _608){_15=_15.replace(/^\s+|\s+$/g,'');if(_15!=''&&_15!='a'&&!_298(_15,' a')&&!_298(_15,' select')&&!_298(_15,' submit')&&!_298(_15,' textarea')&&!_298(_15,' li'))_108.push(_15)}_108.push.apply(_108,_2._502);_108.push.apply(_108,_591(_401(_6._192)));return _108.slice(0,1000).join(',')}function _401(_1075){var _1074={5:'Click',6:'Mouseover'};let _588=_77._118();var _590=_2._589.filter(function(_417){return _417._596===_588}).map(function(_417){return _417._332});_590.push(_588);var _410=_2._589.filter(function(_116){return _116._29===_1074[_1075]&&(!_116._332||_116._332===_2.location.href||_590.includes(_116._332))});return _410}function _591(_410){return _410.map(function(_116){return _116._15})}function _406(_18,_594,_420){if(!_420)_420=1000;for(let _8=0;_8<_420;_8++){if(!_18||!_594)return null;if(_594(_18))return _18;_18=_22._73(_18)??_18.host}return null}function _1079(_41){var _595=[/:active/g,/:visited/g,/::before/g,/:before/g,/::after/g,/:after/g,/::first-letter/g,/::first-line/g,/::selection/g];for(var _8=0;_8<_595.length;_8++)_41=_41.replace(_595[_8],'');return _41}function _95(_1081){try{return _3.encodeURIComponent(_1081)}catch(_32){_5('Encode error: '+_32.message,_10());return''}}function _896(_4){return _4.replace(/%/g,'%25').replace(/\|{3}/g,'%7C%7C%7C')}function _26(_20,_19){if(!_83)return;if(_1._7.length===0)_1._286=+new Date();var _36=_603(_20,_19,_1._134,_1._52,_770());if(!_36)return;if(_1042(_20)){_17._172(_288);_288=_17._48(_125,_63._441);_1._462=_10();_1._388=+new Date()}if(_810(_20))_1._598=_10();if(_1062(_36)){_335();if(_36._4!==undefined)_36._7[_36._7.length-1]=0;_1._7=_36._7;_1._7[0]=0;_1._7[1]=0;if(_36._60.length)_1._60.push(..._36._60);if(_36._4!==undefined)_1._52.push(_36._4);if(_36._164!==undefined)_1._146.push(_36._164)}else{_1._7=_1._7.concat(_36._7);if(_36._60.length)_1._60.push(..._36._60);if(_36._4!==undefined)_1._52.push(_36._4);if(_36._164!==undefined)_1._146.push(_36._164);if(_20===_6._402){_335()}}}function _1062(_36){const _1072=_338(_1._60)+_338(_36._60);const _1061=_338(_1._52)+_338(_36._4);const _1048=_1._7.length+_36._7.length+_1072+_1061;return _1048>_63._604}function _434(_430,_169){_599(_12._396,_430,_169)}function _599(_68,_430,_169=0){var _7=[],_134=[],_60=[],_52=[],_146=[];let _427=0;_430.forEach(function(_29,_40){if(!_29._19)_29._19={};_427=_40+1;var _36=_603(_29._20,_29._19,_134,_52,_427);if(!_36)return;_7=_7.concat(_36._7);if(_36._60.length)_60.push(..._36._60);if(_36._4!==undefined)_52.push(_36._4);if(_36._164!==undefined)_146.push(_36._164)});const _148=_736(_169,_7,_60,_52,_146);const _1043=_169+_427;const _602={_16:_153+'events?w='+_2._45+'&s='+_12._55+'&p='+_68+'&v='+_150+'&pst='+_245()+'&li='+_1043+'&lh=0&ls=0'};_602._7='d='+_148;_136(_602)}function _603(_20,_19,_134,_52,_1047){var _60=[];var _4=_19.value;var _164;var _7=[];_7._803=false;if(_1127(_20)&&!_1058(_19))return null;if(_19.value&&_19.value.length>_63._604){_5('Event, type: '+_20+', skipping due to large value, details: '+_428(_19),_10());return null}_144(2,_1047,_7);_144(1,_20,_7);if(_19.x<0)_19.x=0;if(_19.y<0)_19.y=0;if(_19.x>65534)_19.x=65534;if(_19.y>65534)_19.y=65534;if(_19.x!=undefined)_144(2,_19.x,_7);if(_19.y!=undefined)_144(2,_19.y,_7);if(_19.element){if(!_19.selector)_19.selector=_113._196(_19.element);if(!_19.target)_19.target=_138(_19.element)}if(_19.target!=undefined){if(typeof _19.target=='object'&&_19.target.id!=undefined)_19.target=_19.target.id;if(_20!==_6._72&&_19.target&&_19.target.indexOf('||')===-1){const _0=_19.element??_374(_19.target);if(_0){if(_318(_0))return null;if(_409(_0)){_19.target=_138(_406(_0,_490))}var _38=_415(_0);if(_38&&!_318(_38))_19.target=_138(_38)+'||'+_19.target}}}if(_1055(_20)){let _244=_134.indexOf(_19.target);if(!_19.target){_244=65535}else if(_244===-1){_244=_134.length;_60.push(_244+':'+_19.target);_134.push(_19.target)}else{_164=_244+':'+_19.target}_144(2,_244,_7)}if(_1054(_20)){let _274=_134.indexOf(_19.selector);if(!_19.selector){_274=65535}else if(_274===-1){_274=_134.length;_60.push(_274+':'+_19.selector);_134.push(_19.selector)}_144(2,_274,_7)}else{delete _19.selector}if(_20!==_6._386&&_20!==_6._239)_5('Event, type: '+_20+', time: '+_10()+', details: '+_428(_19),_10());if(_1045(_20)){if(_4 instanceof Array)_4=_4.join(', ');_144(1,_52.length,_7)}if(_7._803){_5('Event, type: '+_20+', skipping due to overflow in temp data, details: '+_428(_19),_10());return null}return{_7,_60,_4,_164}}function _428(_19){return _23._111({..._19,element:undefined})}function _770(){return+new Date()-_1._286}function _1056(){const _235=_432();const _263=_1._605-(_235.domLoading??0);return Math.ceil(_263)}function _785(){const _235=_432();const _263=(_235.loadEventStart??0)-(_235.fetchStart??0);return Math.ceil(_263)}function _432(){const _733=_3.performance.getEntriesByType('navigation');return _733[_733.length-1]??{}}function _1127(_20){return[_6._398,_6._387,_6._386,_6._294,_6._290,_6._186,_6._192,_6._269,_6._824,_6._66,_6._445,_6._469,_6._402,_6._472,_6._474,_6._475,_6._476,_6._391,_6._837,_6._385,_6._848,_6._384,_6._44,_6._390,_6._239,_6._62,_6._258,_6._757].indexOf(_20)!==-1}function _1058(_19){return _19.x!==undefined&&_19.y!==undefined&&!isNaN(_19.x)&&!isNaN(_19.y)}function _1055(_20){return[_6._294,_6._290,_6._186,_6._192,_6._269,_6._389,_6._280,_6._230,_6._437,_6._439,_6._265,_6._72,_6._391,_6._385,_6._384,_6._293,_6._414,_6._416,_6._390,_6._239,_6._62].indexOf(_20)!==-1}function _1054(_20){return[_6._294,_6._290,_6._186,_6._192,_6._269,_6._389,_6._280,_6._230,_6._437,_6._439,_6._265,_6._391,_6._385,_6._384,_6._293,_6._414,_6._416,_6._390,_6._239,_6._62].indexOf(_20)!==-1}function _1045(_20){return[_6._280,_6._230,_6._293,_6._62].indexOf(_20)!==-1}function _1042(_20){return _1041(_20)||_810(_20)||_1077(_20)}function _1041(_20){return[_6._386,_6._294,_6._290,_6._186,_6._387,_6._192,_6._269,_6._239].indexOf(_20)!==-1}function _810(_20){return[_6._389,_6._280,_6._230,_6._293].indexOf(_20)!==-1}function _1077(_20){return[_6._445,_6._469,_6._402,_6._472,_6._474,_6._475,_6._476,_6._391,_6._837,_6._385,_6._848,_6._384].indexOf(_20)!==-1}function _840(){if(!_157(_369(),_1._181)){_1._181=_369();_26(_6._398,_1._181);_1._485=_10()}if(!_157(_1._139,_1._842)){_1._842=_1._139;_26(_6._386,_1._139)}if(!_157(_1._84,_1._216)){_1._216=_1._84;_26(_6._387,_1._84);_1._486=_10()}for(const[_21,_84]of _1._764){const _216=_1._761.get(_21)??{x:0,y:0};if(_157(_84,_216))continue;_1._761.set(_21,_84);_26(_6._390,_84)}var _1001=_3.visualViewport?_3.visualViewport.scale:1;var _468={x:_93.round(_93.min(_1001,10)*1000),y:_93.round(_93.min(_3.devicePixelRatio,10)*1000)};if(!_157(_468,_1._756)){_26(_6._757,_468);_1._756=_468}if(_3.visualViewport){var _258={x:_3.visualViewport.offsetLeft,y:_3.visualViewport.offsetTop};if(!_157(_258,_1._754)){_26(_6._258,_258);_1._754=_258}}}function _995(){if(!_157(_1._139,_1._751)){_1._751=_1._139;const _0=_14.elementFromPoint(_1._139.x-_1._84.x,_1._139.y-_1._84.y);const _88=_747(_0,_1._139.x,_1._139.y);if(!_88)return;_26(_6._239,{x:_88.x,y:_88.y,element:_88._0})}}async function _537(_7){if(!_83)return;if(!_7?.type)throw new Error('Custom event type is required');if(Object.keys(_7)[0]!=='type')_7={type:_7.type,..._7};_7.time=_10();_5('Custom event, type: '+_7.type+', , data: '+_23._111(_7),_10());const response=await _1149({_16:_153+'custom-events',_7:{website:_2._45,session:_12._55,page:_12._68,pst:_245(),events:[_7]}});if(response.ok)_72(_7.type)}function _335(){var _169=_1._286-_1._69;_1._744+=_1._7.length;if(_1._744>_63._742&&!_1._743){_1._743=true;_5('Recording event limit of '+_63._742+' reached. Stopping recording.',_10());_70()}var _148=_736(_169,_1._7,_1._60,_1._52,_1._146);_1._130.push(_148);_1._7=[];_1._52=[];_1._60=[];_1._146=[];_1._286=+new Date();if(_10()>_63._1024){_5('Pageview over max.time, stopping.',_10());_739();_17._101(_447);_17._101(_448);_17._101(_449);_17._172(_288);_167=false}else{_1023()}}function _736(_169,_7,_60,_52,_146){var _278=[];_144(3,_169,_278);_144(2,_7.length,_278);_278=_278.concat(_7);let _790=_905.e(_278)+'.'+_433(_60||[])+'.'+_433(_52||[]);const _1025=[...new Set(_146||[])].filter(_57=>!_60.includes(_57));_790+='.'+_433(_1025);return _790}function _1023(){if(_167&&_1._130.length>0){if(_1._295==1){_12._273++}var _75=_12._379?_455():[];for(let _8=0;_8<_1._130.length;_8++){const _794={_16:_153+'events?w='+_2._45+'&s='+_12._55+'&p='+_12._68+'&v='+_150+'&pst='+_245()+'&q='+_1._295+'&li='+_1._801+'&lh='+_1._796+'&ls='+_1._800};_794._7='d='+_1._130[_8];_75.push(_794);_1._295++;_1._801=_1._462;_1._796=_1._181.y;_1._800=_1._216.y}_1._130=[];if(_12._379&&_780(_75.slice(-10))){_783()}else{for(let _8=0;_8<_75.length;_8++){_136(_75[_8])}}if(_1._295>_63._1085)_70()}}function _783(){if(_1._456)return;var _13=_455().slice(0,1)[0];if(_13){_1._456=true;_13._133=_13._66=function(){_780(_455().slice(1));_1._456=false;_17._48(_783,1)};_136(_13)}}function _455(){return(_117._283('mf_transmitQueue')||[]).map(a=>({_16:a.url,_7:a.data}))}function _780(_75){return _117._266('mf_transmitQueue',_75.map(a=>({url:a._16,data:a._7})))}async function _1149(_13){if(!_13?._16){if(_13?._66)_13._66();return}let _16=_13._16;const _133=_13._133;const _66=_13._66;const _158={method:'GET',headers:{'Content-Type':'text/plain'}};if(_13._7){_158.method='POST';_158.body=_23._111(_13._7);_16=_1108(_16);try{await _220(_158.body,function(_7){_158.body=_7;_16=_767(_16)})}catch{}}return await _3.fetch(_16,_158)}function _136(_13){if(!_13?._16){if(_13?._66)_13._66();return}_454();if(_1130()&&_3.XDomainRequest){_1153(_13)}else if(_3.XMLHttpRequest){if(_13._7&&_13._220){var _1145=_2.compressFunction||_220;_1145(_13._7).then((_7)=>{_13._7=_7;_13._16=_767(_13._16);_453(_13)}).catch(()=>{_453(_13)})}else{_453(_13)}}}function _1153(_13){try{_13._16=_1129(_13._16);var _126=new _3.XDomainRequest();_126.open(_13._7?'POST':'GET',_13._16);_126.onload=function(){if(_13._133)_13._133(_758(_126))};_126.onerror=function(){if(_13._66)_13._66(_758(_126))};_126.onprogress=function(){_5('XDR progress:'+_13._16,_10())};_126.ontimeout=function(){_5('XDR timeout:'+_13._16,_10())};_126.timeout=20000;_17._48(function(){_126.send(_13._7)},500)}catch(_32){_5('Error in transmitCrossDomain (XDomainRequest): '+_32.message,_10());if(_13._66)_13._66({})}}function _453(_13){try{const _61=_22._1087();_61.onreadystatechange=function(){if(_61.readyState!==4||!_61.status)return;if(_1107(_61.status)){if(_13._133)_13._133(_834(_61))}else{if(_13._66)_13._66(_834(_61))}};_61.open(_13._7?'POST':'GET',_13._16,true);_61.setRequestHeader('Content-Type','application/x-www-form-urlencoded');if(_13._1138)_61.withCredentials=true;_61.send(_13._7)}catch(_32){_5('Error in transmitCrossDomain (XMLHttpRequest): '+_32.message,_10());if(_13._66)_13._66({})}}function _758(_126){return{_340:_126.responseText}}function _834(_61){return{_488:_61.status,_340:_61.response}}async function _220(_7){if(!_3.CompressionStream)throw new Error('CompressionStream not supported');const _1156=new _3.TextEncoder();const _1172=new _3.ReadableStream({start(_773){_773.enqueue(_1156.encode(_7));_773.close()}}).pipeThrough(new _3.CompressionStream('gzip'));const _1171=_1172.getReader();let _148;let _777=false;const _130=[];let _215=0;while(!_777){_148=await _1171.read();if(_148.value){_130.push(_148.value);_215+=_148.value.length}if(_148.done)_777=true}let _28;if(_130.length===1){_28=_130[0]}else{_28=new Uint8Array(_215);var _797=0;_130.forEach(function(_4){_28.set(_4,_797);_797+=_4.length})}return _28}function _746(_16,_1132){return _16+(_16.indexOf('?')===-1?'?':'&')+_1132}function _767(_16){return _746(_16,'gz=1')}function _1108(_16){return _746(_16,'json=1')}function _277(_20,_7){_136({_16:_153+'data',_7:'website='+_2._45+'&session='+_12._55+'&page='+_12._68+'&type='+_20+'&pst='+_245()+'&canonicalPage='+_77._118()+'&data='+_95(_23._111(_7))})}function _1107(_488){return _488>=200&&_488<300}function _1130(){return _14.all&&!_3.atob;}function _813(){return _14.all&&!_14.addEventListener;}function _1129(_16){return _16.replace(/^https?:/i,_2.location.protocol)}function _1128(_44){var _359=_23._111(_44._7);if(_359&&_359.length>_2._989){_5('DOM size too big, not sending, size: '+_23._243(_359.length),_10());_72('mf_secret_html-too-big');return}var _201=_95(_359);var _1123=5242000;var _282=_201.length<=_1123;var _13={_16:_153+'html'+'?website='+_44._53._45+'&session='+_44._53._55+'&page='+_44._53._68,_7:'size='+_44._152+'&html='+_201+'&pst='+_245()+'&canonicalPage='+_95(_77._118()),_220:_2.compress};if(_12._379&&_282){var _75=_821();if(_201!==''){_5('Adding initial DOM to queue, size: '+_23._243(_201.length),_10());_75.push(_13)}else _5('Initial DOM empty, not sending',_10());if(_827(_75.slice(-10)))_808();else{_809(_13,_282,_201.length)}}else{if(_201==''){_5('Initial DOM empty, not sending',_10());return}_809(_13,_282,_201.length)}}function _808(){var _75=_821();var _13=_75.splice(0,1)[0];if(_13){_5('Sending initial DOM mutations. Size: '+_13._7.length,_10());_13._133=_13._66=function(){_827(_75);_17._48(_808,1)};_136(_13)}}function _809(_13,_282,_818){if(_282){_5('Transmitting initial DOM without queue due to no sessionstorage, size: '+_23._243(_818),_10())}else{_5('Transmitting initial DOM without queue due too big html, size: '+_23._243(_818),_10())}_136(_13)}function _821(){return(_117._283('mf_initialDomQueue')||[]).map(a=>({_16:a.url,_7:a.data,_220:a.compress}))}function _827(_75){return _117._266('mf_initialDomQueue',_75.map(a=>({url:a._16,data:a._7,compress:a._220})))}function _1015(_44){var _173=_44._7.args[1].some(function(_114){return _498._173(_114)});if(_173){_5('DOM mutation is a duplicate and has not been added.',_10());return}var _795=_854(_44,_1._202);if(_795>-1){_1._202[_795]._7=_44._7;_5('Deduplicating DOM mutation',_10());return}if(_2.domReuse){var _380=_873(_44);var _828=_900(_380);if(_828>-1){_44.sequence=_828;_5('Reusing already sent DOM mutation, sequence '+_44.sequence,_10());_26(_6._44,{x:_44.sequence,y:0});return}else _1._491.push(_380)}_44.sequence=++_1._872;_26(_6._44,{x:_44.sequence,y:0});_1._202.push(_44);if(!_296)_296=_17._48(_835,1500)}function _900(_380){for(var i=0;i<_1._491.length;i++)if(_1._491[i]==_380)return i+1;return-1}function _873(_44){return _102(_23._111(_44._7))}function _835(){_296=0;if(_167&&_1._202.length>0){const _762=_1._202.length;const _366=new Map();for(const _44 of _1._202){const _53='website='+_44._53._45+'&session='+_44._53._55+'&page='+_44._53._68+'&pst='+_245();const _7=_44.sequence+'.'+_896(_23._111(_44._7));if(!_366.has(_53))_366.set(_53,[]);const _479=_366.get(_53);_479.push(_7)}_1._202=[];for(const[_53,_479]of _366){var _7=_479.join('|||');_7=_53+'&data='+_95(_7);_136({_16:_153+'dom',_7:_7,_220:_2.compress});_5('Sending DOM mutations: '+_762+', size: '+_7.length,_10());_1._760+=_762;if(_1._760>_63._759){_5('DOM mutation limit of '+_63._759+' reached. Stopping recording.',_10());_70()}}}}function _854(_203,_753){if(!_2.domDeduplicator)return-1;var _81=_203._7.args;var _766=_769(_81);var _740=_791(_81);if(!_766&&!_740)return-1;for(var i=0;i<_753.length;i++){var _444=_753[i]._7.args;if(_766&&_769(_444)&&_860(_81[2],_444[2])){return i}else if(_740&&_791(_444)){return i}}return-1}function _769(_81){return _799(_81)&&_81[2].filter(_853).length===_81[2].length}function _791(_81){return _799(_81)&&_81[2].filter(_850).length===_81[2].length}function _799(_81){return _81[0].length===0&&_81[1].length===0&&_81[2].length>0&&_81[3].length===0}function _853(_291){return _291.attributes.style&&_779(_291.attributes)===1}function _850(_291){return _291.attributes.d&&_779(_291.attributes)===1}function _779(obj){var count=0;for(var prop in obj)if(Object.prototype.hasOwnProperty.call(obj,prop))count++;return count}function _860(_471,_772){if(_471.length!==_772.length)return false;for(var i=0;i<_471.length;i++){var _865=_471[i],_868=_772[i];if(_865.id!==_868.id)return false}return true}function _470(){if(_1._7.length>0&&_770()>=5000){_26(_6._470,{});_335()}}function _125(){_5('Inactivity timeout.',_10());_70(true)}function _157(_122,_778){return _122.x==_778.x&&_122.y==_778.y}function _369(){return{x:_3.innerWidth,y:_3.innerHeight}}function _781(_213){if(!_213||!_213.getBoundingClientRect)return null;var _182=_213.getBoundingClientRect();var _287;if(!_213.childElementCount&&!_182.height&&!_182.width)_287=_948(_213);if(!_287){return{x:_182.left,y:_182.top,width:_182.width,height:_182.height}}else{_287.x+=_182.left-_213.offsetLeft;_287.y+=_182.top-_213.offsetTop;return _287}}function _948(_0){var _251=window.getComputedStyle(_0,[':after']);if(!_251)return _251;return{x:+_251.left.slice(0,-2),y:+_251.top.slice(0,-2),width:+_251.width.slice(0,-2),height:+_251.height.slice(0,-2)}}function _138(_0){if(_2.useSelectorGenerator)return _113._196(_0);var _271=_160.get(_0);if(_271)return _271;try{var _57=[];while(_0){var _33=_0.getRootNode?_22._1090(_0):_14;_57.unshift(_947(_0,_33)||_967(_0,_33));_0=_33.host}return _57.join(' > :document-fragment: > ')}catch(_32){_5('Error in getElementPath: '+_32.message,_10())}return''}function _947(_0,_33){var _24=_0.attributes?.['name']?_0.attributes['name'].value:null;if(_24&&_415(_0)&&/button|input|select|textarea/.test(_0.tagName.toLowerCase())){var _363=_33.getElementsByName(_24);if(_363.length===1)return _24;if(_363.length>1){for(var _8=0;_8<_363.length;_8++)if(_0===_363[_8])return _24+'['+_8+']_mf'}}return null}function _967(_43,_33){var _25=[];try{while(_43&&_43.nodeType===1){var _15='';var _58=_22._73(_43);if(!_58)return'';var _271=_160.get(_43);if(_271){_25.unshift(_271);break}if(_43.tagName==='TABLE'&&_25.indexOf('tbody')===-1&&_25.indexOf('thead')===-1)_25.unshift('tbody');if(_43.getAttribute('data-mf-id')){_15+='[data-mf-id="'+CSS.escape(_43.getAttribute('data-mf-id'))+'"]';_25.unshift(_15);break}if(_43.getAttribute('id')&&!_23._217(_43,'data-mf-ignore-child-ids')&&_2.useIdSelectors){_15+='#'+_43.getAttribute('id');_25.unshift(_15);break}_15+=_43.tagName.toLowerCase();var _371='',_440=_43,_421=1;if(_58?.tagName?.toLowerCase()=='body'){var _156=_23._242(_43);_371=_156.length?'.'+_156.join('.'):''}if(_371!==''&&_33.querySelectorAll(_741('body > '+_15+_371)).length===1)_15+=_371;else{while((_440=_440.previousElementSibling)){if(_440.tagName.toLowerCase()===_15)_421++}if(_421!==1)_15+=':['+_421+']'}_25.unshift(_15);_43=_58}}catch(_32){_5('Error in _getCssPath: '+_32.message,_10())}return _25.join(' > ').replace('html > body > ','> ')}function _374(_57,_980=true){if(!_57)return null;if(_2.useSelectorGenerator)return _113._113(_57);var _0=_987(_57);if(!_0){try{var _33=_14;_741(_57).split(' > :document-fragment: > ').forEach(function(_15){_0=_33.querySelector(_15);_33=_0.shadowRoot})}catch(_32){if(_980)_5('Error in _getElementById: '+_32.message,_10())}}return _0}function _987(_24){if(!_24)return null;var _67=_738.exec(_24);if(_67&&_67[1]){try{var _40=_3.parseInt(_67[1]);return _14.getElementsByName(_24.replace(_738,''))[_40]}catch(_32){}}var _96=_14.getElementsByName(_24);if(_96&&_96.length===1)return _96[0];return null}function _741(_25){if(!_25)return null;if(_25.substr(0,1)==='>')_25='html > body '+_25;_25=_25.replace(/^(\d)/,'\\3$1 ');_25=_25.replace(/#(\d)/,'#\\3$1 ');_25=_25.replace(/#(-\d)/,'#\\$1');_25=_25.replace(/:(?!\[)/g,'\\:');_25=_25.replace(/\\:document-fragment\\:/g,':document-fragment:');_25=_25.replace(/^#\S+/,function(_67){return _67.replace(/\./g,'\\.');});_25=_25.replace(/:\[([^\]]+)\]/g,':nth-of-type($1)');_25=_25.replace(/([{}[\]/;%$~@&<*^])/g,'\\$1');_25=_25.replace(/\\\[([^=]+="[^"]+")\\\]/g,'[$1]');return _25}function _144(_976,_4,_275){for(var _8=_976-1;_8>0;_8--){var _748=_93.pow(256,_8);_749(_93.floor(_4/_748),_275);_4=_4% _748}_749(_4,_275)}function _749(_804,_275){if(_804>255){_275._803=true;return}_275.push(_804)}function _433(_0){var _28='';for(var _8=0;_8<_0.length;_8++){_28+=(_8>0?',':'')+_431(_0[_8])}return _28}function _338(_0){if(!_0)return 0;if(typeof _0==='string')return _431(_0).length;if(_0.length){var _152=0;for(var _8=0;_8<_0.length;_8++)_152+=_431(_0[_8]).length+1;return _152>0?_152-1:_152}return 0}function _431(_4){return _903.encode(''+_4)}function _839(_24,_4,_198,_27){if(_2.preferStorageApi)_71._104(_24,_4);else _325._104(_24,_4,_198,_27)}function _847(_24){if(_2.preferStorageApi)return _71._141(_24)||'';else return _325._141(_24)}function _909(_24){if(_2.preferStorageApi){_117._272(_24);_71._272(_24)}else{_325._272(_24)}}var _905=new function(){for(var d='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_'.split(''),c=64;c;)--c;this.e=function(e){let a=[],f=0,b=0,g,c=e.length,h=c% 3;for(;f<c;)a[b++]=d[(g=e[f++]<<16|e[f++]<<8|e[f++])>>18&63]+d[g>>12&63]+d[g>>6&63]+d[g&63];if(h)for(a[--b]=a[b].substr(0,a[b].length-(h=3-h));h--;)a[b]+='*';return a.join('')}};var _903={_339:'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=',encode:function(c){for(var a='',d,b,e,i,h,f,g=0,c=this._923(c);g<c.length;)d=c.charCodeAt(g++),b=c.charCodeAt(g++),e=c.charCodeAt(g++),i=d>>2,d=(d&3)<<4|b>>4,h=(b&15)<<2|e>>6,f=e&63,isNaN(b)?h=f=64:isNaN(e)&&(f=64),a=a+this._339.charAt(i)+this._339.charAt(d)+this._339.charAt(h)+this._339.charAt(f);return a},_923:function(c){for(var c=c.replace(/\r\n/g,'\n'),a='',d=0;d<c.length;d++){var b=c.charCodeAt(d);128>b?a+=String.fromCharCode(b):(127<b&&2048>b?a+=String.fromCharCode(b>>6|192):(a+=String.fromCharCode(b>>12|224),a+=String.fromCharCode(b>>6&63|128)),a+=String.fromCharCode(b&63|128))}return a}};function _429(){var _122=function(){return((1+_93.random())*65536|0).toString(16).substring(1)};return _122()+_122()+_122()+_122()+_122()+_122()+_122()+_122()}var _426=0;function _327(){if(_14.body){_5('Initializing recorder');if(!_942())return;if(_941)_940(_812);else _812();return}_426++;if(_426===1){_5('Retrying to initialize recorder - document.body is not set',_10())}else if(_426===25){_5('Failed to initialize recorder',_10());return}_17._48(_327,200)}function _812(){_5('Initializing recorder',_10());if(!_826(_2.location.hostname))return;if(_813()){_5('Recording not started - browser is IE8 or older',_10());return}if(_817)_936();if(_817||_931)return;_425=true;function _819(){if(!_83&&_2.autoStart&&_14.readyState!=='loading')_31();_494(_785())}_54._175(_14,'readystatechange',_819);_819()}function _494(_263){if(_423||!_83||_14.readyState!=='complete')return;_26(_6._824,{x:_263,y:_354?_354.scrollHeight:_23._512()});_423=true}function _926(){return _2.useUnload?'unload':'beforeunload'}function _298(_829,_830){return _829.indexOf(_830,_829.length-_830.length)!==-1}function _102(_41){var _119=0,_831;for(var _8=0;_8<_41.length;_8++){_831=_41.charCodeAt(_8);_119=((_119<<5)-_119)+_831}return _119.toString()}function _629(_11){for(var _8=0;_8<_1._151.length;_8++)if(_1._151[_8].split('_')[0]===_102(_11)){return _8}return-1}function _630(_11,_4){var _552=_629(_11);var _530=_102(''+_4);if(_552>-1){if(_1._151[_552].split('_')[1]===_530){return false}_1._151[_552]=_102(_11)+'_'+_530}else if(_1._151.length<20){_1._151.push(_102(_11)+'_'+_530)}return true}function _826(_27){var _928=_27;_27=_534(_27);var _825=false;for(let _8=0;_8<_292.length;_8++){if(_27==_534(_292[_8])){_825=true;break}}_27=_937(_27);var _822=false;for(let _8=0;_8<_292.length;_8++){if(_27==_534(_292[_8])){_822=true;break}}var _28=_825||_822;if(!_28)_5('Domain was blocked: '+_928+' - domain list: '+_292,_10());return _28}function _534(_27){if(_27==null)return'';_27=_27.toLowerCase();_27=_27.replace(/^\s+|\s+$/g,'');if(_27.substring(0,4)=='www.'){_27=_27.substring(4,_27.length)}return _27}function _937(_27){if(_2.includeSubDomains){_27=_924(_27)}return _27}function _924(_27){var _123=_27.split('.');if(_123.length<=2)return _27;if(_27.indexOf('.co.')>-1||_27.indexOf('.com.')>-1||_27.indexOf('.org.')>-1){_123=_123.slice(_123.length-3,_123.length);return _123.join('.')}_123=_123.slice(_123.length-2,_123.length);return _123.join('.')}function _933(){var _28=[];if(typeof Ember!='undefined')_28.push('em');if(typeof angular!='undefined')_28.push('an');if(typeof Backbone!='undefined')_28.push('bb');return _28}function _911(){if(_2.autoTagging){_5('Autotagging session',_10());var _843=['utm_source','utm_medium','utm_term','utm_content','utm_campaign','gclid','fbclid','igshid','ttclid','li_fat_id','_hsenc','_hsmi','hsa_cam','mc_cid','mc_eid','mkt_tok','soc_src','soc_trk','gad_source','gad_campaignid','msclkid','twclid'];for(var _8=0;_8<_843.length;_8++){var _557=_843[_8];var _4=_846(_2.location.href,_557);if(!_4)_4=_846(_2.referrer,_557);if(_4)_115._841(['setVariable',_557,_4])}}}function _846(_16,_24){const u=new URL(_16,_2.location.origin);return u.searchParams.get(_24)??''}const nonWordCharactersRegex=/[\s"'.,_\-+/*:=!?@#%&{}[\]\\|]/;function _915(_507){return!nonWordCharactersRegex.test(_507)}function _982(_4,_529){var _28='';for(var _8=0;_8<_529;_8++){_28+=_4}return _28}function _245(){return _1._768||_1._69}function _10(){return+new Date()-_1._69}function _985(urlLength){var _221=_2.location.href;var _789=_63._787-urlLength-6;if(_95(_221).length>_789)_221=_221.split('#')[0];if(_95(_221).length>_789)_221=_221.split('?')[0];return _95(_221)}function _977(_18){var _955=_18 instanceof Element;if(!_955)return false;var _786=_3.getComputedStyle(_18);var _495=_786?_786['white-space']:'';if(_495&&(_495.indexOf('pre')>-1||_495==='break-spaces'))return true;return false}this._327=_327;this._31=function(){_31();_494(_785())};this._70=_70;this._342=_342;this._553=_553;this._921=function(){return _12._55};this._904=function(){return _12._68};this._72=_72;this._547=_547;this._554=_554;this._544=_544;this._531=_531;this._323=_323;this._343=_343;this._127=function(_4,_24){_127({_4:_4,_784:_24,_125:0})};this._167=function(){return _167};this._934=function(){return _12._268};this._303=_303;this._255=_255;this._178=_178;this._150=_150;this._532=_532;this._199=_199;this._932=function(){_127(_82._508)};this._399=_399;this._535=_535;this._537=_537}function _649(_22,_2){var _765=[];function _173(_114){if(!_2.domMutationDetectorEnable||!_114||_114.nodeType!==1)return false;var _58=_22._73(_114);var _776=_58?_58.id:undefined;var _774=_114.previousSibling?_114.previousSibling.id:undefined;var _956=_114.tagName;var _771=_114.attributes?_114.attributes.id:undefined;var _775=_114.attributes?_114.attributes.class:undefined;var _11=_956;if(_2.domMutationUseParentNode&&_776)_11+='_'+_776;if(_2.domMutationUsePreviousSibling&&_774)_11+='_'+_774;if(_771)_11+='_'+_771;if(_775)_11+='_'+_775.replace(/\s/g,"_");var _845=+new Date();var _203=_765[_11];var _514=_203?_203._529:0;var _851=_203?((_845-_203._866)/1000):0;var _750=_514<_2.domMutationCountThreshold;var _763=_851<_2.domMutationTimeThresholdInSeconds;var _173=_203?(_750&&_763):false;if(!_750||!_763)_514=0;_765[_11]={_866:_845,_529:_514+1};return _173}this._173=_173}function _951(_3,_17,_2,_109,_23,_54,_77,_71){var _39,_45,_5,_79;var _345='mf_liveHeatmaps';var _37;var _284=[];var _94;var _357=false;function _31(_538,_206,_270,_174){_45=_538;_39=_270;_5=_206;_357=window.location.search.indexOf('mf_legacy=1')!==-1?true:false;_5('Live heatmaps starting');_79=_109._227();if(!_79){_5('Live heatmaps not initiated - could not create root HTML element');return}if(!_3.opener){_5('Live heatmaps not initiated - window.opener is missing');return}if(typeof _174==='function'){_174(function(){_149()})}else{_149()}}function _70(){_882()}function _149(){_54._175(_3,'message',function(_29){if(_29.origin!==_39)return;_219(_29.data);switch(_29.data.message){case'MouseflowLiveHeatmaps_Init_Received':_3.clearInterval(_94);break;case'MouseflowLiveHeatmaps_Init_Success':case'MouseflowLiveHeatmaps_Hello':_89(_29.data);_214(_29.data.scripts,function(){var message;if(_357){message={mfCommand:'settings',value:{websiteSettings:_29.data.websiteSettings}}}else{_782();message={mfCommand:'settings_liveheatmap',value:_37}}_545(JSON.stringify(message))});break;case'MouseflowLiveHeatmaps_StreamData_Chunk':_285(_29.data.requestUrl,true)._492(_29.data.dataChunk);break;case'MouseflowLiveHeatmaps_StreamData_Success':_285(_29.data.requestUrl)._189();break;case'MouseflowLiveHeatmaps_StreamData_Error':_285(_29.data.requestUrl)._188();break;case'MouseflowLiveHeatmaps_RequestData_Success':_285(_29.data.requestUrl)._189(_29.data.responseText);break;case'MouseflowLiveHeatmaps_RequestData_Error':_285(_29.data.requestUrl)._188();break}});_94=_17._159(_289,500);_17._48(function(){_17._101(_94)},10000);_289()}function _289(){_168({message:'MouseflowLiveHeatmaps_Init',websiteId:_45,legacy:_357})}function _89(_89){_37=_816();var _281=_806();var _367=_2.location.search.match(/mf_liveHeatmaps=([^&]+)/);var _515=typeof _3.name==='string'&&_3.name.indexOf('mf_liveHeatmaps')===0?_3.name.slice(15).split('_'):[];var _858=_367||_515[1]==='init';if(_37&&!_858){_37.filters.url=_281.url;_501(_37);return}_37={isMinimized:false,appUrlBase:_39,websiteId:_45,filters:_281,minDate:_89.minDate,filteredViews:_89.filteredViews,user:_89.user,website:_89.website,mutedEvents:_89.mutedEvents,supportedLanguages:_89.supportedLanguages,accountFeatures:_89.accountFeatures};if(_89.filters&&_89.filters.view){_37.selectedFilteredView=_89.filters.view;delete _89.filters.view}if(_89.filters){Object.keys(_89.filters).forEach(function(_11){var _4=_89.filters[_11];if(_4 instanceof Date)_4=_378(_4);_37.filters[_11]=_4})}if(_367&&_367[1]!=='1')_37.filters.maptype=_367[1];else if(_515[2])_37.filters.maptype=_515[2];_501(_37);_3.name='mf_liveHeatmaps'}function _782(){_37.devices=_37.filters.device?_37.filters.device.and||_37.filters.device.or:[];_37.mapType=_37.filters.maptype;_37.url=_37.filters.url=_77._118();_168({message:'MouseflowLiveHeatmaps_SetSettings',settings:_37})}function _214(_105,_46){if(!_105)return;var _128=0;function _162(){if(_128>=_105.length){_46();return}var _49=_105[_128];_267(_49);_128++;var _98=document.createElement('script');if(_49.startsWith('/'))_98.src=_39+_49;else _98.src=_39+'/'+_49;_98.onload=_162;_79.appendChild(_98)}_162()}function _816(){return _71._283(_345)}function _501(_37){if(_5)_5('Live heatmaps saving settings');_71._266(_345,_37)}function _882(){if(_5)_5('Live heatmaps removing settings');_71._272(_345)}function _285(_16,_990){var _158=_284.filter(function(_874){return _874._16===_16})[0];if(!_990&&_158)_284.splice(_284.indexOf(_158),1);return _158}function _1102(_13){if(typeof _13!=='object')return;_37=_816();var _281=_806();Object.keys(_13).forEach(function(_11){var _4=_13[_11];if(_4 instanceof Date)_4=_378(_4);_37.filters[_11]=_4||undefined});Object.keys(_281).forEach(function(_11){if(!_37.filters[_11])_37.filters[_11]=_281[_11]});if(_37.filters.view){_37.selectedFilteredView=_37.filters.view;delete _37.filters.view}_501(_37)}function _806(){var _257=new Date();_257=new Date(_257.getFullYear(),_257.getMonth(),_257.getDate());var _503=new Date(_257);_503.setDate(_503.getDate()-29);return{maptype:'click',url:_77._118(),fromdate:_378(_503),todate:_378(_257)}}function _168(_7){_3.opener.postMessage(_7,_39);_5('Sent '+_7.message+(_7.requestUrl?', request URL: '+_7.requestUrl:''))}function _545(_7){_3.postMessage(_7,_3.location.origin);_5('Sent '+_7.message+(_7.requestUrl?', request URL: '+_7.requestUrl:''))}function _219(_7){if(_7.message&&_7.message.indexOf('MouseflowLiveHeatmaps_')===0)_5('Received '+_7.message+(_7.requestUrl?', request URL: '+_7.requestUrl:''))}function _267(_49){_5('Live heatmaps loading script: '+_49)}function _378(_100){return _100.getFullYear()+'-'+_805(_100.getMonth()+1,'00')+'-'+_805(_100.getDate(),'00')}function _805(_1126,_793){return(_793+_1126).slice(-_793.length)}this._31=_31;this._70=_70;this._533=function(_13){_1102(_13);if(_357){_545('{"mfCommand":"MouseflowHeatmap_UpdateHeatmap"}')}else{_782();var message={mfCommand:'settings_change',value:{settings:_37,reloadData:_13&&_13.maptype?false:true}};_545(JSON.stringify(message))}_5('Sent postmessage updateheatmap')};_3.mouseflowHeatmap={streamData:function(_16,_492,_189,_188){_284.push({_16:_16,_492:_492||function(){},_189:_189||function(){},_188:_188||function(){}});_168({message:'MouseflowLiveHeatmaps_StreamData',requestUrl:_16})},getData:function(_16,_189,_188){_284.push({_16:_16,_189:_189||function(){},_188:_188||function(){}});_168({message:'MouseflowLiveHeatmaps_RequestData',requestUrl:_16})}}}function _953(_3,_17,_2,_109,_23,_54,_77,_71){const _345='mf_liveHeatmaps';let _39,_45,_5,_79;let _94;const _14=_3.document;const _1140=_3.location.search.slice(1).split('&').map(a=>a.split('=',2)).filter(a=>a[0]).reduce((acc,cur)=>(acc[cur[0]]=cur[1]??null,acc),{});function _31(_538,_206,_270,_174){_45=_538;_39=_270;_5=_206;_5('Live heatmaps starting');_79=_109._227();if(!_79){_5('Live heatmaps not initiated - could not create root HTML element');return}if(!_3.opener){_5('Live heatmaps not initiated - window.opener is missing');return}if(typeof _174==='function'){_174(function(){_149()})}else{_149()}}function _70(){}function _149(){_54._175(_3,'message',function(_29){if(_29.origin!==_39)return;_219(_29.data);switch(_29.data.message){case'MouseflowLiveHeatmapsV3_Init_Received':_17._101(_94);break;case'MouseflowLiveHeatmapsV3_Init_Success':_214(_29.data.scripts);break}});_94=_17._159(_289,500);_17._48(function(){_17._101(_94)},10000);_289()}function _289(){_168({message:'MouseflowLiveHeatmapsV3_Init',websiteId:_45,prod:_1140.prod!==undefined})}function _214(_105){for(const _49 of _105){const _0=_14.createElement(_49.tagName);if(_49.textContent){_0.textContent=_49.textContent}for(const _11 in _49.attributes){const _4=_49.attributes[_11];if(_11==='src'||_11==='href'){_0[_11]=_39+_4}else{_0.setAttribute(_11,_4)}}if(_0.tagName==='SCRIPT'){_0.async=false}if(_0.tagName==='SCRIPT'&&_0.type==='importmap'){_0.textContent=_0.textContent.replace(/(:\s*")(\/[^"]+")/g,`$1${_39}$2`)}_79.appendChild(_0)}}function _168(_7){_3.opener.postMessage(_7,_39);_5('Sent '+_7.message+(_7.requestUrl?', request URL: '+_7.requestUrl:''))}function _219(_7){if(_7.message&&_7.message.indexOf('MouseflowLiveHeatmapsV3_')===0)_5('Received '+_7.message+(_7.requestUrl?', request URL: '+_7.requestUrl:''))}this._31=_31;this._70=_70;this._533=function(){window.updateSpaPage()}}function _959(_3,_109,_22,_17,_23,_54,_2){var _5,_79,_94,_39,_207,_351;function _31(_1016,_45,_1187,_1180,_1179,_1181,_206,_46){_39=_1016;_351=new URL(_39).origin;_5=_206;_207=_46;_5('[PrivacyTool] _start called');_5('[PrivacyTool] appUrl: '+_39);_5('[PrivacyTool] appOrigin: '+_351);_79=_109._227();_5('[PrivacyTool] Root element created? '+!!_79);if(!_79){_5('Privacy tool not initiated - could not create root HTML element');return}if(!_3.opener){_5('Privacy tool not initiated - window.opener is missing');return}_149()}function _149(){_5('[PrivacyTool] Setting up event listener');_54._175(_3,'message',function(_29){_5('[PrivacyTool] message event received: '+_29.origin+', '+(_29.data?.message));if(_29.origin!==_351){_5('[PrivacyTool] Ignored message from unexpected origin: '+_29.origin);return}_219(_29.data);switch(_29.data.message){case'MouseflowPrivacyTool_Init_Received':_5('[PrivacyTool] Init_Received acknowledged');_3.clearInterval(_94);break;case'MouseflowPrivacyTool_Init_Success':_5('[PrivacyTool] Init_Success received');_214(_29.data.scripts,function(){try{_5('[PrivacyTool] All scripts loaded');var payload=_29.data.payload||{};_5('[PrivacyTool] Payload: '+JSON.stringify(payload));privacyToolWidget.start(payload.appUrl,payload.blacklist||[],payload.whitelist||[],payload.tracked||[],payload.masked||[]);_5('[PrivacyTool] Widget started');if(typeof _207==='function')_207()}catch(e){_5('[PrivacyTool] Failed to start widget: '+e)}});break;default:_5('[PrivacyTool] Unknown message: '+(_29.data?.message))}});_94=_3.setInterval(_798,500);_3.setTimeout(function(){_5('[PrivacyTool] Init timeout reached, clearing interval');_3.clearInterval(_94)},10000);_798()}function _798(){_5('[PrivacyTool] Posting Init message to opener');try{_3.opener.postMessage({message:'MouseflowPrivacyTool_Init'},_351)}catch(e){_5('[PrivacyTool] Failed to post Init message: '+e)}}function _214(_105,_46){if(!_105)return;var _128=0;function _162(){if(_128>=_105.length){_46();return}var _49=_105[_128];_267(_49);_128++;var _98=document.createElement('script');if(_49.startsWith('/'))_98.src=_39+_49;else _98.src=_39+'/'+_49;_98.onload=_162;_79.appendChild(_98)}_162()}function _267(_49){_5('Privacy Tool loading script: '+_49)}function _219(_7){if(_7.message&&_7.message.indexOf('MouseflowPrivacyTool_')===0)_5('Received '+_7.message+(_7.requestUrl?', request URL: '+_7.requestUrl:''))}this._31=_31}function _949(_3,_109,_17,_23,_54,_2,_77){var _5,_79,_94,_39,_788,_207;function _31(_206,_270,_1022,_46){_39=_270;_5=_206;_207=_46;_788=!!_1022;_5('Tagger tool starting');_79=_109._227();if(!_79){_5('Tagger tool not initiated - could not create root HTML element');return}if(!_3.opener){_5('Tagger tool not initiated - window.opener is missing');return}_149()}function _149(){_54._175(_3,'message',function(_29){if(_29.origin!==_39)return;_219(_29.data);switch(_29.data.message){case'MouseflowTaggerTool_Init_Received':_17._101(_94);break;case'MouseflowTaggerTool_Init_Success':_214(_29.data.scripts,function(){taggerToolWidget.start(_77._118());if(typeof _207==='function')_207();_5('Tagger tool scripts loaded')});break}});_94=_17._159(_792,500);_17._48(function(){_17._101(_94)},10000);_792()}function _792(){_168({message:'MouseflowTaggerTool_Init',startWithHeatMap:_788})}function _214(_105,_46){if(!_105)return;var _128=0;function _162(){if(_128>=_105.length){_46();return}var _49=_105[_128];_267(_49);_128++;var _98=document.createElement('script');if(_49.startsWith('/'))_98.src=_39+_49;else _98.src=_39+'/'+_49;_98.onload=_162;_79.appendChild(_98)}_162()}function _267(_49){_5('Tagger tool loading script: '+_49)}function _219(_7){if(_7.message&&_7.message.indexOf('MouseflowTaggerTool_')===0)_5('Received '+_7.message+(_7.requestUrl?', request URL: '+_7.requestUrl:''))}function _168(_7){_3.opener.postMessage(_7,_39);_5('Sent '+_7.message+(_7.requestUrl?', request URL: '+_7.requestUrl:''))}this._31=_31}function _887(_2,_521,_524){function _118(){if(_2.forcePath&&_2.path)return _2.path.toLowerCase();var _74=(_2.crossDomainSupport?_2.location.hostname:'')+(_2.path||(_2.decodePathName?decodeURIComponent(_2.location.pathname):_2.location.pathname)).toLowerCase();var _119=(_2.includeHashInPath?_2.location.hash:'').toLowerCase();var _107=_2.location.search.toLowerCase();if(_74!=='/'&&_74.slice(-1)==='/'&&(!_2.includeQueryStringInPath&&!_2.includeHashInPath))_74=_74.slice(0,-1);return _1027(_74+(_2.includeQueryStringInPath?_107:'')+_119)||_74+_1028(_107)+_119}function _1027(_74){return _521.filter(function(_78){return _1034(_74,_78)}).map(function(_78){return _1014(_78)})[0]}function _1028(_107){if(_107[0]==='?')_107=_107.slice(1);var _67;var _522=[];var _1033=/([^&=]+)=?([^&]*)/g;while((_67=_1033.exec(_107))!==null){var _40=_524.indexOf(_67[1]);if(_67[2]&&_40>-1)_522[_40]=_67[0]}return _522.length?'?'+_522.filter(hasValue).join('&'):(_2.includeQueryStringInPath&&_107?'?'+_107:'')}function _1034(_74,_78){var _737=_74.indexOf('?');if(!_2.includeQueryStringInPath&&_737>-1)_74=_74.slice(0,_737);switch(_78._20){case'equals':return _74===_78._4.toLowerCase();case'startsWith':return _74.substr(0,_78._4.length)===_78._4;case'endsWith':return _74.substr(-_78._4.length)===_78._4;case'contains':return _74.includes(_78._4.toLowerCase());case'regex':return new RegExp(_78._4).test(_74);default:return false}}function _1014(_78){if(_78._1013)return _78._1013;switch(_78._20){case'startsWith':return _78._4+'*';case'endsWith':return'*'+_78._4;default:return _78._4}}function hasValue(value){return value}this._118=_118}function _745(_20,_3,_23,_5){var _240=_992(_20);this._141=function(_11){try{return _240.getItem(_11)||null}catch(e){_5(e);return null}};this._283=function(_11){try{return _23._319(this._141(_11))||null}catch(e){_5(e);return null}};this._104=function(_11,_4){try{_240.setItem(_11,_4);return true}catch(e){_5(e);return false}};this._266=function(_11,_4){try{return this._104(_11,_23._111(_4))}catch(e){_5(e);return false}};this._272=function(_11){try{_240.removeItem(_11)}catch(e){_5(e)}};this._601=function(){try{var _11='mf_supportsSessionStorage';var _4='1';_240.setItem(_11,_4);var _991=_240.getItem(_11)===_4;_240.removeItem(_11);return _991}catch(e){_5(e);return false}};function _992(_20){switch(_20){case'local':return _3.localStorage;case'session':return _3.sessionStorage;default:throw Error('Unknown storage type: '+(_20||'null'))}}}function _993(_3,_23,_2,_5){var _14=_3.document;var _64=_3.location;var _1007=7776000000;this._1003=function(_24){var _755=_24+'=';var _752=_14.cookie.split(';');for(var i=0;i<_752.length;i++){var c=_752[i];while(c.charAt(0)===' '){c=c.substring(1)}if(c.indexOf(_755)===0){return c.substring(_755.length,c.length)}}return''};this._141=function(_11){try{return this._1003(_11)}catch(e){_5(e);return null}};this._283=function(_11){try{return _23._319(this._141(_11))||null}catch(e){_5(e);return null}};this._1064=function(_24,_4,_198,_27){var _802='';if(_198==1){var _100=new Date();_100.setTime(_100.getTime()+_1007);_802='; expires='+_100.toGMTString()}var _1060=_2.secureCookie?'secure;':'';_14.cookie=_24+'='+_4+_802+'; path=/; domain='+_27+';'+_1060+'SameSite=Strict;'};this._104=function(_11,_4,_198,_27){try{this._1064(_11,_4,_198,_27);return true}catch(e){_5(e);return false}};this._266=function(_11,_4,_198,_27){try{return this._104(_11,_23._111(_4),_198,_27)}catch(e){_5(e);return false}};this._272=function(_11){try{_14.cookie=_11+'=; expires=Thu, 01-Jan-70 00:00:01 GMT; path=/; domain='+_23._314(_64,_2)+';'}catch(e){_5(e)}}}function _884(_3,_17,_23,_2,_5){this._838=function(){_3._mfq=[]};this._499=function(){if(!_3._mfq)this._838();for(var _40=0;_40<_3._mfq.length;_40++){var _51=_3._mfq[_40];if(_51&&_51.length){var _836=true;if(_51[0]==='config')_2._393.apply(_2,_51.slice(1));else if(_51[0]==='newPageView')_2._546.apply(_2,_51.slice(1));else _836=false;if(_836)delete _3._mfq[_40]}}};this._31=function(){_3._mfq=new _115(_3._mfq)};this._841=function(){_3._mfq.push.apply(_3._mfq,arguments)};this._1071=function(){return _3._mfq};function _115(_392){if(!_392)_392=[];var _34=this;_17._48(function(){for(var _40=0;_40<_392.length;_40++)_34.push(_392[_40])},1)}_115.prototype.push=function(_51){if(!_51)return;try{if(typeof _51==='object'&&_51.length){_3.mouseflow[_51.slice(0,1)].apply(_3.mouseflow,_51.slice(1))}else if(typeof _51==='function'){_51(_3.mouseflow)}}catch(error){var _505='Failed to execute item on action queue';var _844=_23._111(_51);if(_844)_505+='\n'+_844;_505+='\n'+error;_5(_505)}}}function _1083(_22,_23){var _548=[];var _1082=['target','button','pageX','pageY','which','data','origin','source','touches','key','clientX','clientY'];function _1044(_21,_6,_42,_549,_13){var _170=!!_13._170;var _807=function(_9){var _279=[];if(_9.composedPath&&((_9.target&&_9.target.shadowRoot)||_42))_279=_9.composedPath();var _833=_9;_9=_1080(_9);_9.preventDefault=function(){_833.preventDefault()};_9.stopPropagation=function(){_833.stopPropagation()};if(_9.target&&_9.target.shadowRoot&&_279.length)_9.target=_279[0];if(_42){_9.delegatedTarget=_814(function(_43,_8){return _279.length?_279[_8]:(_43?_22._73(_43):_9.target)},_42);if(!_9.delegatedTarget&&!_13._1076)return;if(_13._832&&_9.target!==_9.delegatedTarget)return}else if(_13._832&&_9.target!==_21){return}if(_13._1178)_9.preventDefault();if(_13._1188)_9.stopPropagation();_549.apply(this,arguments)};_21.addEventListener(_6,_807,{capture:_170});_548.push({_21:_21,_6:_6,_549:_807,_170:_170})}function _1080(_9){var _811={};_1082.forEach(function(_11){if(_9[_11]!=undefined)_811[_11]=_9[_11]});return _811}function _1049(){_548.forEach(function(_54){_54._21.removeEventListener(_54._6,_54._549,{capture:_54._170})});_548=[]}function _814(_815,_42,_21,_40){if(!_40)_40=0;_21=_815(_21,_40);if(!_21||!_42)return null;if(_23._110(_21,_42))return _21;return _814(_815,_42,_21,++_40)}this._175=function(_21,_6,_42,_46,_13){if(typeof _42==='function'){_13=_46;_46=_42;_42=null}_1044(_21,_6,_42,_46,_13||{})};this._1046=_1049}function _653(_2,_23){function _543(_165,_276){if(!_165||!_165.length)return true;_165=_165.filter(function(_65){return _65&&_65._20&&_65._4});var _820=_165.filter(function(_65){return _65._20.indexOf('not')!==0});var _1057=_820.length===0||_820.some(function(_65){return _256(_65,_276)});var _823=_165.filter(function(_65){return _65._20.indexOf('not')===0});var _1052=_823.length===0||_823.every(function(_65){return _256(_65,_276)});return _1052&&_1057}function _256(_65,_276){const _74=_2.path||_2.location.pathname;const _119=_2.includeHashInPath?_2.location.hash:'';const _107=_2.includeQueryStringInPath?_2.location.search:'';const _25=(_74+_107+_119).toLowerCase();const _693=_276?.toLowerCase();const _1173=_276&&_693===_65._4?.toLowerCase();let _556=_1173?_558(_65,_693):_558(_65,_25);if(!_556&&_2.crossDomainSupport)_556=_558(_65,_2.location.hostname+_25);return _556}function _558(_65,_25){const _20=(_65._20||'').toLowerCase();const _4=(_65._4||'').toLowerCase();const _408=_23._400(_25,'/');const _407=_23._400(_4,'/');const _1053={equals:()=>_408===_407,startswith:()=>_25.startsWith(_4),endswith:()=>_408.endsWith(_407),regex:()=>new RegExp(_4).test(_25),contains:()=>_25.includes(_4),notequals:()=>_408!==_407,notstartswith:()=>!_25.startsWith(_4),notendswith:()=>!_408.endsWith(_407),notcontains:()=>!_25.includes(_4)};return _1053[_20]?.()??true}this._543=_543;this._256=_256}function _1051(_3,_71,_117,_539,_540,_541){const _64=_3.location;const _14=_3.document;const _1050=URL.parse??_542;function _542(_16){var _110=(_16||'').match(/^(([^:]+:)?\/?\/?(([^:/?#]+)?:?(\d+)?))(\/.*?)?(\?.*?)?(#.*)?$/);return{href:_110[0]||'',origin:_110[1]||'',protocol:_110[2]||'',host:_110[3]||'',hostname:_110[4]||'',port:_110[5]||'',pathname:_110[6]||'',search:_110[7]||'',hash:_110[8]||''}}function _600(_1059){if(_541)return'';const _16=_1050(_1059);return _16?.protocol&&_16?.origin?_16.origin:''}this.debug=_3.mouseflowDebug||_64.search.indexOf('mf_debug=1')!==-1;this.includeDebugTime=false;this.forceStart=_64.search.indexOf('mf_force=1')!==-1;this.autoStart=_3.mouseflowAutoStart!==false&&_64.search.indexOf('mf_autostart=0')===-1;this.enableBots=false;this.touchEvents=!_3.mouseflowDisableTouch;this.htmlDelay=_3.mouseflowHtmlDelay||1000;this.newPageViewHtmlDelay=_3.mouseflowNewPageViewHtmlDelay||500;this.compress=_3.mouseflowCompress!==false&&_64.search.indexOf('mf_compress=0')===-1;this.compressFunction=null;this.autoTagging=_3.mouseflowAutoTagging!==false;this.path=_3.mouseflowPath;this.forcePath=false;this.crossDomainSupport=!!_3.mouseflowCrossDomainSupport;this.location=_542(_3.mouseflowHref||_64.href);this.hasCustomHref=!!_3.mouseflowHref;this.referrer=_600(_3.mouseflowReferrer!==undefined?_3.mouseflowReferrer:_14.referrer);this.htmlFetchMode=_3.mouseflowHtmlFetchMode||'post';this.sessionId=_3.mouseflowSessionId;this.honorDoNotTrack=_3.mouseflowHonorDoNotTrack||_540;this.gdprEnabled=_3.mouseflowForceGdpr||_539;this.keyLogging=!_3.mouseflowDisableKeyLogging&&!this.gdprEnabled;this.domReuse=!_3.mouseflowDisableDomReuse;this.domDeduplicator=!_3.mouseflowDisableDomDeduplicator;this.includeSubDomains=!_3.mouseflowExcludeSubDomains;this.registerSubmitTimeout=_3.mouseflowRegisterSubmitTimeout||2000;this.useUnload=!!_3.mouseflowUseUnload;this.replaceLastFormValues=_3.mouseflowReplaceLastFormValues||!this.keyLogging||this.gdprEnabled;this.useAllHoverSelectors=!!_3.mouseflowUseAllHoverSelectors;this.enableCssRecording=!!_3.mouseflowEnableCssRecording;this.secureCookie=!!_3.mouseflowSecureCookie;this.enableSpa=true;this.includeHashInPath=false;this.includeQueryStringInPath=false;this.autoTagPayments=true;this.preferStorageApi=!!_3.mouseflowPreferStorageApi;this.domMutationDetectorEnable=_3.domMutationDetectorEnable!==undefined?_3.domMutationDetectorEnable:false;this.domMutationUseParentNode=_3.domMutationUseParentNode!==undefined?_3.domMutationUseParentNode:true;this.domMutationUsePreviousSibling=_3.domMutationUsePreviousSibling!==undefined?_3.domMutationUsePreviousSibling:false;this.domMutationCountThreshold=_3.domMutationCountThreshold!==undefined?_3.domMutationCountThreshold:20;this.domMutationTimeThresholdInSeconds=_3.domMutationTimeThresholdInSeconds!==undefined?_3.domMutationTimeThresholdInSeconds:10;this.liveHeatmapsEnabled=false;this.privacyToolEnabled=false;this.taggerToolEnabled=false;this.useIdSelectors=_3.mouseflowUseIdSelectors!==undefined?_3.mouseflowUseIdSelectors:true;this.useSelectorGenerator=_3.mouseflowUseSelectorGenerator!==undefined?_3.mouseflowUseSelectorGenerator:false;this.proxyAttachShadow=true;this.scrollSelector=_3.mouseflowScrollSelector;this.autoScrollSelector=_3.mouseflowAutoScrollSelector||false;this.freezeElementIds=[];this.proxyValueSetter=false;this.decodePathName=false;this.forms=_3.mouseflowFormsConfiguration||null;this.notFoundIdentifiers=_3.mouseflowNotFoundIdentifiers||["Not Found","404"];this.debugDeadClick=_64.search.indexOf('mf_debugDeadClick=1')!==-1;this.enableDeadClick=true;this.enableDataLayerCapture=!!_3.mouseflowEnableDataLayerCapture;this._499=function(){const _236=typeof _3.name==='string'&&_3.name.startsWith('mf_')?_3.name.slice(3).split('_'):[];if(`${_236[0]}_${_236[3]}`==='liveHeatmaps_v3'){this.liveHeatmapsV3Enabled=true;_117._104('mf_liveHeatmaps_version','v3')}else if(_117._141('mf_liveHeatmaps_version')==='v3'){this.liveHeatmapsV3Enabled=true}if(!!_3.opener&&_64.search.indexOf('mf_liveHeatmaps')!==-1){this.liveHeatmapsEnabled=true;this.taggerToolEnabled=true;return}if(_64.search.indexOf('mf_inspect')!==-1){this.privacyToolEnabled=true;return}if(!!_3.opener&&_236[0]==='liveHeatmaps'){this.liveHeatmapsEnabled=true;this.taggerToolEnabled=true;return}if(_236[0]==='privacyTool'){this.privacyToolEnabled=true;return}if(`${_236[0]}_${_236[1]}`==='tagger_tool'){this.taggerToolEnabled=true;return}if(!_71._601())return;if(_3.opener){if(_71._141('mf_privacyTool'))this.privacyToolEnabled=true;else if(_71._141('mf_liveHeatmaps')){this.liveHeatmapsEnabled=true;this.taggerToolEnabled=true}}};this._546=function(_25,_64){this._393('href',_3.location.href);this.path=undefined;if(_25)this.path=_25.toString();if(_64){this.location=_64;this.hasCustomHref=true}};this._393=function(_11,_4){if(_11[0]==='_')return;switch(_11){case'href':this.location=_542(_4);this.hasCustomHref=_4!==_3.location.href;break;case'keyLogging':this.keyLogging=this.keyLogging&&_4;break;case'gdprEnabled':this.gdprEnabled=this.gdprEnabled||_4;break;case'freezeElementIds':this.freezeElementIds=Array.isArray(_4)?_4:[''+_4];break;case'referrer':this.referrer=_600(_4);break;case'hasCustomHref':break;case'compressFunction':this.compressFunction=function(_7){let _606,_597;const _1078=new Promise(function(_1040,_1039){_606=_1040;_597=_1039});const _28=_4(_7,_606,_597);return _28 instanceof Promise?_28:_1078};break;default:this[_11]=_4;break}}}function _886(_3,_22){const _404='mf-root';let _593,_204;_250(_3);function _250(_249){_593=_249;_204=_249.document;_22._250(_249)}function _500(){if(!_204.body)return null;const _86=_1073();if(!_1070())_527();return _86}function _227(){const _79=_500();const _86=_79?.shadowRoot.getElementById('mouseflow');return _86}function _496(){const _86=_607();if(!_86)return;const _592=_593.getComputedStyle(_204.body);const _509=parseInt(_592.marginTop)+parseInt(_592.paddingTop);if(_509){_86.style.top=`${_509 * -1}px`;_86.style.height=`calc(100% + ${_509}px)`;_86.style.left='0px';_86.style.width='100%'}}function _607(){return _204.getElementsByTagName(_404)[0]}function _1073(){const _86=_607()??_204.createElement(_404);if(!_86.id)_86.id='mouseflow';if(_86.innerHTML?.trim()==='')_86.innerHTML=_1069();if(!_204.contains(_86))_204.body.appendChild(_86);_496();return _86}function _1070(){return!!_22._1143(_404)}function _527(){_22._527(_404,class extends _22._309('HTMLElement'){connectedCallback(){const _185=this.shadowRoot??this.attachShadow({mode:'open'});if(_185.getElementById('mouseflow'))return;_185.innerHTML=('<div id="mouseflow">'+'<style type="text/css">'+'@font-face {'+'font-family: "Open Sans";'+'font-style: normal;'+'font-weight: 400;'+'src: url(https://cdn.mouseflow.com/fonts/opensans/opensans-regular.woff2) format("woff2");'+'}'+'@font-face {'+'font-family: "Open Sans";'+'font-style: normal;'+'font-weight: 700;'+'src: url(https://cdn.mouseflow.com/fonts/opensans/opensans-bold.woff2) format("woff2");'+'}'+':host {'+'all: initial;'+'font: 400 14px/1.4 "Open Sans", Arial, sans-serif;'+'color: #666;'+'}'+'.load-font {'+'position: absolute;'+'visibility: hidden;'+'width: 0px;'+'height: 0px;'+'overflow: hidden;'+'}'+'* {'+'background: transparent;'+'border: 0;'+'border-image-outset: 0s;'+'border-image-repeat: stretch;'+'border-image-slice: 100%;'+'border-image-source: none;'+'border-image-width: 1;'+'border-color: #000;'+'border-radius: 0;'+'border-width: 0;'+'border-style: none;'+'box-sizing: border-box;'+'clip: auto;'+'float: none;'+'color: inherit;'+'font-family: inherit;'+'font-size: inherit;'+'font-style: inherit;'+'font-weight: inherit;'+'width: auto;'+'height: auto;'+'min-width: auto;'+'min-height: auto;'+'max-width: auto;'+'max-height: auto;'+'letter-spacing: normal;'+'line-height: normal;'+'margin: 0;'+'padding: 0;'+'text-decoration: none;'+'text-indent: 0;'+'text-transform: none;'+'vertical-align: baseline;'+'text-align: left;'+'overflow: visible;'+'top: auto;'+'right: auto;'+'bottom: auto;'+'left: auto;'+'-webkit-transition: none;'+'transition: none;'+'}'+'.mf-is-hidden {'+'display: none;'+'}'+'</style>'+'<div class="load-font">load font</div>'+'<slot />'+'</div>')}})}function _1069(){return('<style type="text/css">'+'@font-face {'+'font-family: "Mouseflow Open Sans";'+'font-style: normal;'+'font-weight: 400;'+'src: url(https://cdn.mouseflow.com/fonts/opensans/opensans-regular.woff2) format("woff2");'+'}'+'@font-face {'+'font-family: "Mouseflow Open Sans";'+'font-style: normal;'+'font-weight: 700;'+'src: url(https://cdn.mouseflow.com/fonts/opensans/opensans-bold.woff2) format("woff2");'+'}'+'#mouseflow,'+'mf-root {'+'all: initial;'+'font: 400 14px/1.4 "Mouseflow Open Sans", Arial, sans-serif;'+'color: #666;'+'}'+'#mouseflow *,'+'mf-root * {'+'background: transparent;'+'border: 0;'+'border-image-outset: 0s;'+'border-image-repeat: stretch;'+'border-image-slice: 100%;'+'border-image-source: none;'+'border-image-width: 1;'+'border-color: #000;'+'border-radius: 0;'+'border-width: 0;'+'border-style: none;'+'box-sizing: border-box;'+'clip: auto;'+'float: none;'+'color: inherit;'+'font-family: inherit;'+'font-size: inherit;'+'font-style: inherit;'+'font-weight: inherit;'+'width: auto;'+'height: auto;'+'min-width: auto;'+'min-height: auto;'+'max-width: auto;'+'max-height: auto;'+'letter-spacing: normal;'+'line-height: normal;'+'margin: 0;'+'padding: 0;'+'text-decoration: none;'+'text-indent: 0;'+'text-transform: none;'+'vertical-align: baseline;'+'text-align: left;'+'overflow: visible;'+'top: auto;'+'right: auto;'+'bottom: auto;'+'left: auto;'+'-webkit-transition: none;'+'transition: none;'+'}'+'#mouseflow .mf-is-hidden,'+'mf-root .mf-is-hidden {'+'display: none;'+'}'+'</style>')}this._250=_250;this._500=_500;this._227=_227;this._496=_496}function _1068(_3,_22){this._48=function(){return _22._208(_3,'setTimeout').apply(_3,arguments)};this._159=function(){return _22._208(_3,'setInterval').apply(_3,arguments)};this._172=function(){_22._208(_3,'clearTimeout').apply(_3,arguments)};this._101=function(){_22._208(_3,'clearInterval').apply(_3,arguments)}}function _1065(_3,_93,_510,_22){var _14=_3.document;function _145(_0,_90){var _156=_0.classList;if(_156&&_90)return _156.contains(_90);var _155=_242(_0);return _155.indexOf(_90)!==-1}function _517(_0,_90){var _156=_0.classList;if(_156&&_90){_0.classList.add(_90);return}var _155=_242(_0);if(_155.indexOf(_90)===-1)_155.push(_90);_0.className=_155.join(' ')}function _516(_0,_90){var _156=_0.classList;if(_156&&_90){_0.classList.remove(_90);return}var _155=_242(_0);var _40=_155.indexOf(_90);if(_40!==-1)_155.splice(_40,1);_0.className=_155.join(' ')}function _734(_0,_90,_493){if(_493===undefined)_493=!_145(_0,_90);if(_493){_517(_0,_90)}else{_516(_0,_90)}}function _242(_0){var _627=typeof _0.className==='string'?_0.className.replace(/\s+/g,' ').trim():'';return _627!==''?_627.split(' '):[]}function _512(){return _93.max((_14.body||{}).scrollHeight||0,(_14.body||{}).offsetHeight||0,_14.documentElement.scrollHeight||0,_14.documentElement.offsetHeight||0,_14.documentElement.clientHeight||0)}function _497(){var _229=null;var _1063=_14.body.scrollHeight;_14.querySelectorAll('body *').forEach(function(_43){if(_43.tagName==='LINKBAR-CONTAINER')return;if(!_229)_229=_43;if(_229.scrollHeight<_43.scrollHeight)_229=_43});return _229.scrollHeight>_1063?_229:null}function _506(_2){if(!_2.autoScrollSelector)return _14.querySelector(_2.scrollSelector);return _497()}function _42(_52,_1038){var _28=[];if(!_52)return _28;for(var _8=0;_8<_52.length;_8++){if(_1038(_52[_8],_8))_28.push(_52[_8])}return _28}function _243(_152){var _8=Math.floor(Math.log(_152)/Math.log(1024));return(_152/Math.pow(1024,_8)).toFixed(2)*1+' '+['B','KB','MB','GB','TB'][_8]}function _560(_302){var _383=_302.length;while(_383){var _8=_93.floor(_93.random()*_383--);var _1037=_302[_383];_302[_383]=_302[_8];_302[_8]=_1037}}function _561(_41){if(!_41)return _41;return _41.replace(/&/g,'&amp;').replace(/"/g,'&quot;').replace(/'/g,'&#39;').replace(/</g,'&lt;').replace(/>/g,'&gt;')}function _523(_41){if(!_41)return _41;return _41.replace(/&amp;/g,'&').replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,'<').replace(/&gt;/g,'>')}function _525(url){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_+.~#?&//=]*)$/.test(url.trim())}function _565(_41){return _41.replace(/\[([^\]]+)\]\(([^)]+)\)/g,function(_67,_1012,_16){_16=_523(_16);return _525(_16)?'<a href="'+_16+'" target="_blank">'+_1012+'</a>':_67})}function _583(_4){if(!_4)return _4;return _4.replace(/([^a-zA-Z\d-_])/g,'\\$1').replace(/^(-)?(\d)/,'$1\\3$2 ')}function _319(_4){return _4?_510.parse(_4):undefined}function _111(_4){var _28;if(Array.prototype.toJSON){var _1010=Array.prototype.toJSON;delete Array.prototype.toJSON;_28=_510.stringify(_4);Array.prototype.toJSON=_1010}else if(_4){_28=_510.stringify(_4)}return _28}function _582(_1009,_1004){var _237=_403(_1009);var _41=_403(_1004);var _215=_93.max(_237.length,_41.length);if(_41=='NaN'||_237=='NaN'){return false}for(var _8=0;_8<_215;_8++){_237[_8]=_237[_8]||0;_41[_8]=_41[_8]||0;if(_237[_8]==_41[_8]){continue}return _237[_8]>_41[_8]}return true}function _403(_1002){var _620=_1002.split('.');var _586=[];for(var _8=0;_8<_620.length;_8++){_586.push(parseInt(_620[_8]))}return _586}function _400(_41,_997){var _28=_41;while(_28[_28.length-1]===(_997||' '))_28=_28.slice(0,-1);return _28}function _581(_397){var _67;var _107=/([^?&=]+)(?:=([^&]*))?/g;var _617={};while((_67=_107.exec(_397))!==null){var _11=_67[1];var _4=_67[2]?window.decodeURIComponent(_67[2].replace(/\+/g,' ')):null;_617[_11]=_4}return _617}const platformRegexes=[{family:'windows',regex:[/microsoft (windows) (vista|xp)/i,/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[/]?([\d.\w]*)/i,/(windows)[/]?([ntce\d.]+\w)(?!.+xbox)/i,/(win(?=3|9|n)|win 9x )([nt\d.]+)/i]},{family:'ios',regex:[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[/])([\d.]+)/i,/cfnetwork\/.+darwin/i]},{family:'macos',regex:[/(mac os x) ?([\w. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i]},{family:'android',regex:[/droid ([\w.]+)\b.+android[- ]x86/i,/(android)[-/]?([\w.]*)/i]},{family:'linux',regex:[/\b(joli|palm)\b ?(?:os)?\/?([\w.]*)/i,/(mint)[/()]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-/]?(?!chrom|package)([-\w.]*)/i,/(hurd|linux) ?([\w.]*)/i,/(gnu) ?([\w.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[/]?(?!amd|[ix346]{1,2}86)([\w.]*)/i,/(haiku) (\w+)/i]}];const browserRegexes=[{browser:'chrome',regex:[/\b(?:crmo|crios)\/([\w.]+)/i]},{browser:'edge',regex:[/edg(?:e|ios|a)?\/([\w.]+)/i]},{browser:'opera',regex:[/(opera mini)\/([-\w.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w.]+)/i,/(opera)(?:.+version\/|[/]+)([\w.]+)/i,/opios[/]+([\w.]+)/i,/\bopr\/([\w.]+)/i]},{browser:'ie',regex:[/(?:ms|\()(ie) ([\w.]+)/i,/trident.+rv[: ]([\w.]{1,9})\b.+like gecko/i]},{browser:'firefox',regex:[/\bfocus\/([\w.]+)/i,/fxios\/([\w.-]+)/i,/(?:mobile|tablet);.*(firefox)\/([\w.-]+)/i,/mobile vr; rv:([\w.]+)\).+firefox/i,/(firefox)\/([\w.]+)/i]},{browser:'opera',regex:[/\bopt\/([\w.]+)/i,/coast\/([\w.]+)/i]},{browser:'samsung',regex:[/(samsung)browser\/([\w.]+)/i]},{browser:'chrome',regex:[/ wv\).+(chrome)\/([\w.]+)/i,/chrome\/([\w.]+) mobile/i,/(chrome)\/v?([\w.]+)/i]},{browser:'android',regex:[/droid.+ version\/([\w.]+)\b.+(?:mobile safari|safari)/i]},{browser:'safari',regex:[/version\/([\w.,]+) .*mobile(?:\/\w+ | ?)safari/i,/iphone .*mobile(?:\/\w+ | ?)safari/i,/version\/([\w.,]+) .*(safari)/i,/webkit.+?(mobile ?safari|safari)(\/[\w.]+)/i]}];function _564(_615){var _613;var _612;for(let _8=0;_8<platformRegexes.length;_8++){var _616=platformRegexes[_8];let _67=_616.regex.find(function(_526){return _526.test(_615)});if(_67){_612=_616.family;break}}for(let _8=0;_8<browserRegexes.length;_8++){var _614=browserRegexes[_8];let _67=_614.regex.find(function(_526){return _526.test(_615)});if(_67){_613=_614.browser;break}}return{browser:_613,os:_612}}function _110(_0,_15){if(_0.nodeType!==1)return false;if(_0.msMatchesSelector)return _0.msMatchesSelector(_15);if(_0.matches)return _0.matches(_15);return false}function _217(_43,_520){var _58=_22._73(_43);return _58&&_58.hasAttribute&&_58.hasAttribute(_520)}function _519(ipaddress){if(/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(ipaddress)){return(true)}return(false)}function _314(_41,_2){if(_519(_41.hostname)||!_2.includeSubDomains)return _41.hostname;var _27=_41.href;var _1000=/\.co\.|\.com\.|\.ac\.|\.org\.|\.gov\.|\.edu\.|\.net\./;_27=_27.replace(/^http(s)?:\/\/?/i,'').replace(/^([^/]+)\/.*/i,'$1').replace(/:[\d]*$/,'');if(_1000.test(_27))_27=_27.replace(/^([^.]+\.){1,}([^.]+\.[^.]+\.[^.]+)$/i,'$2');else _27=_27.replace(/^([^.]+\.){1,}([^.]+\.[^.]+)$/i,'$2');return'.'+_27}this._314=_314;this._519=_519;this._145=_145;this._517=_517;this._516=_516;this._734=_734;this._242=_242;this._512=_512;this._42=_42;this._243=_243;this._560=_560;this._561=_561;this._523=_523;this._525=_525;this._565=_565;this._583=_583;this._319=_319;this._111=_111;this._582=_582;this._403=_403;this._400=_400;this._110=_110;this._217=_217;this._581=_581;this._564=_564;this._497=_497;this._506=_506}function _1151(_3,_5){const _1088=_3.Object;let _358;let _161,_336,_59,_184;this._250=function(_249){_161=_249;_336=_249.document;_59={}};this._250(_3);this._309=function(_30){const _252=_161[_30];const _566=`function ${_30}() { [native code] }`;let _35=_252;try{while(_59[_30]===undefined){if(!_35){_35=_555(_30);_59[_30]=_35;_536(_30,_35);break}else if(_348(_35)===_566){_59[_30]=_35;break}else if(_348(_35.prototype?.constructor)===_566){_59[_30]=_35.prototype.constructor;break}else{_35=Object.getPrototypeOf(_35)}}}catch(e){_5(e)}return _59[_30]??_252};this._528=function(_30,_99){const _252=_161[_30];const _1146=`function ${_99}() { [native code] }`;const _210=`${_30}.${_99}`;try{if(_59[_210]===undefined){let _35=this._309(_30).prototype;let _121=this._208(_35,_99);if(_348(_121)!==_1146){_59[_30]=_555(_30);_35=_59[_30].prototype;_121=_35[_99];_536(_30,_35)}_59[_210]=_121}}catch(e){_5(e)}return _59[_210]??_252[_99]};this._228=function(_30,_131,_132){const _252=_161[_30];const _1155=`function ${_132} ${_131}() { [native code] }`;const _210=`${_30}.${_131}.${_132}`;try{if(_59[_210]===undefined){let _35=this._309(_30).prototype;let _142=_349(_35,_131,_132);if(_348(_142)!==_1155){_59[_30]=_555(_30);_35=_59[_30].prototype;_142=_349(_35,_131,_132)??_142;_536(_30,_35)}_59[_210]=_142}}catch(e){_5(e)}return _59[_210]??_349(_252,_131,_132)};this._208=function(_21,_24){let _584;if(_3.Zone?.__symbol__)_584=_21[_3.Zone.__symbol__(_24)];return _584||_21[_24]};function _349(_35,_131,_132){return Object.getOwnPropertyDescriptor(_35,_131)[_132]}this._550=function(_30,_99,_307){const _121=this._528(_30,_99);const _81=Array.from(arguments).slice(3);return _121.apply(_307,_81)};this._527=function(_24,_1135){this._550('CustomElementRegistry','define',_161.customElements,_24,_1135)};this._1143=function(_24){return this._550('CustomElementRegistry','get',_161.customElements,_24)};function _555(_30){if(!_184){_184=_336.createElement('iframe');_184.style.display='none';_184.style.width='0';_184.style.height='0';_184.style.position='absolute';_336.body.appendChild(_184)}const _35=_184.contentWindow[_30];return _35}function _536(_30,_35){for(const _11 in _59){const _247=_11.split('.');if(_247[0]!==_30)continue;if(_247.length===2){const _121=_35[_247[1]];if(_121)_59[_11]=_121}else if(_247.length===3){const _142=_349(_35,_247[1],_247[2]);if(_142)_59[_11]=_142}}}function _348(_4){return _4?.toString().replace(/\s+/g,' ')}this._73=function(_0){const _1164=this._228('Node','parentNode','get');return _0?_1164.apply(_0):null};this._700=function(_0){const _1106=this._228('Node','nextSibling','get');return _0?_1106.apply(_0):null};this._1101=function(_0){const _1095=this._228('Node','firstChild','get');return _0?_1095.apply(_0):null};this._180=function(_0){const _1094=this._228('Node','childNodes','get');return _0?_1094.apply(_0)??[]:[]};this._1092=function(_0){const _1091=this._228('Node','parentElement','get');return _0?_1091.apply(_0):null};this._1090=function(_0){return this._550('Node','getRootNode',_0)};this._1089=function(_0){if(!_0)return false;if(_358===undefined){try{_358=_336.createElement('div').attachShadow({mode:'open'}).constructor}catch{_358=_161.ShadowRoot}}let _35=_0;let _4=null;while(_4===null){_35=_1088.getPrototypeOf(_35);if(!_35||_35.constructor===_161.DocumentFragment)_4=false;if(_35&&_35.constructor===_358)_4=true}return _4};this._1087=function(){if(!this._1110('XMLHttpRequest')||!this._696('XMLHttpRequest','open')||!this._696('XMLHttpRequest','send')){return new _161.XMLHttpRequest()}const _1120=this._309('XMLHttpRequest');const _61=new _1120();this._706(_61,'XMLHttpRequest','open');this._706(_61,'XMLHttpRequest','send');return _61};this._1110=function(_30){this._309(_30);return!!_59[_30]};this._696=function(_30,_99){this._528(_30,_99);return!!_59[`${_30}.${_99}`]};this._1184=function(_30,_131,_132){this._228(_30,_131,_132);return!!_59[`${_30}.${_131}.${_132}`]};this._706=function(_307,_30,_99){const _121=this._528(_30,_99);if(_121!==_307[_99])_307[_99]=_121.bind(_307)}}function _711(_3,_22,_356,_2,_5){const _14=_3.document;const _723=' :document-fragment: ';const _160=new Map();const _511=['attribute','id','class','tag','nthoftype'];const _875=['.mf-*',/\[(?!data-mf-id=)/];const _897=['[data-mf-id=*]'];const _889=25;const _863=25;if(!_2.useIdSelectors)_511.splice(_511.indexOf('id'),1);this._196=function(_0){try{const _137=[];while(_0){const _15=[];let _33=_0.getRootNode?_0.getRootNode():_14;const _58=_869(_0,function(_692){const _691=_1118(_692)??_1112(_692,_33);if(_691){_15.push(_691);return true}else{return false}});if(_0!==_58){const _1131=_1117(_0,_33,_58);_15.push(_1131)}_137.unshift(_15.join(' '));_0=_33.host}return _137.join(_723)}catch(_32){_32.message='Get CSS selector failed: '+_32.message;_5(_32)}return''};function _1118(_0){return _160.size?_160.get(_0):null}function _1117(_0,_33,_58){let _15=_893(_0,_33,_58);if(_58&&_15.startsWith(':scope '))_15=_15.slice(7);return _15}function _1112(_0,_33){if(!_2.useIdSelectors||!_0.hasAttribute('id'))return null;const _15=_1111(_0,_33);if(_15.startsWith(':root '))return null;return _15}function _1111(_0,_33){return _356.getCssSelector(_0,{root:_33,selectors:['id'],maxCombinations:1,maxCandidates:1})}function _893(_0,_33,_58){return _356.getCssSelector(_0,{root:_58??_33,useScope:!!_58,selectors:_511,blacklist:_875,whitelist:_897,maxCombinations:_889,maxCandidates:_863})}this._113=function(_15,_33){return _513(_15,_33||_14,(_43,_504)=>[_43.querySelector(_504)])[0]};this._681=function(_15,_33){return _513(_15,_33||_14,(_43,_504)=>_43.querySelectorAll(_504))};this._381=function(){if(!_2.freezeElementIds)return;const _34=this;for(let _15 of _2.freezeElementIds){try{const _179=_34._681(_15);for(const _18 of _179){if(_160.has(_18))return;if(_179.length>1)_15=_34._196(_18);_160.set(_18,_15)}}catch(_32){_32.message='Could not freeze element IDs: '+_32.message;_5(_32)}}};function _513(_15,_33,_732){const _96=[];try{for(const _888 of _15.split(',')){const _137=_888.split(_723,2);for(const _58 of _732(_33,_137[0])){if(_137[1]&&_58.shadowRoot){const _120=_513(_137[1],_58.shadowRoot,_732);for(const _80 of _120){_96.push(_80)}}else{_96.push(_58)}}}}catch(_32){_32.message='Could not get element from selector: '+_32.message;_5(_32)}return _96}function _869(_0,_46){while(_0){if(!(_0 instanceof Element))break;if(_46(_0))return _0;_0=_22._73(_0)}return null}}function _871(_3,_17){var _717;this.proxyPushState=function(callback){var _518=_3.history;_717=_518.pushState;_518.pushState=function(){_17._48(callback,100);return _717.apply(_518,arguments)};_3.addEventListener('popstate',function(){_17._48(callback,100)})}}function _56(){return undefined}function _154(){return null}function _372(){return false}var _115=new _884(window,_17,_23,_2,_5);var _109=new _886(window,_22);var _77=new _887(_2,_521,_524);var _113=(typeof _711==='function')?new _711(window,_22,_356,_2,_5):{_196:_154,_113:_154,_681:_154,_381:_56};var _330=(typeof _653==='function')?new _653(_2,_23):{_256:_372};var _190=(typeof _944==='function')?new _944(window,_2,_109,_17,_23,_330,_54,_71,_5,_77):{_31:_56,_70:_56,_303:_56,_1183:_154,_902:_56,_1185:_56};var _498=(typeof _649==='function')?new _649(_22,_2):{_173:_372};var _657=new _959(window,_109,_22,_17,_23,_54,_2);var _353=_2.liveHeatmapsV3Enabled?new _953(window,_17,_2,_109,_23,_54,_77,_71):new _951(window,_17,_2,_109,_23,_54,_77,_71);var _654=new _949(window,_109,_17,_23,_54,_2,_77);var _47=_264?new _642(window,Math,_22,_2,_17,_23,_54,_77,_330,_71,_117,_190,_498,_5,_551,_325,_115,_113):null;_115._499();var _50=false;if(_2.privacyToolEnabled){_657._31(_39,_2._45,_2._350,_2._639,_2._502,_2._633,_5)}else if(_2.liveHeatmapsEnabled){var _174;if(_2.taggerToolEnabled){_174=function(_46){_654._31(_5,_39,true,_46)}}_353._31(_2._45,_5,_39,_174)}else if(_2.taggerToolEnabled){_654._31(_5,_39)}else if(_264){_47._327();_50=true}window.mouseflow={start:_50?_47._31:_56,stop:_50?_47._70:function(){if(_2.privacyToolEnabled)_657._70();else if(_2.liveHeatmapsEnabled)_353._70()},newPageView:_50?_47._342:function(_25,_64){_2._546(_25,_64);if(_2.liveHeatmapsEnabled)_353._533()},stopSession:_50?_47._553:_56,getSessionId:_50?_47._921:_154,getPageViewId:_50?_47._904:_154,tag:_50?_47._72:_56,star:_50?_47._547:_56,setVariable:_50?_47._554:_56,identify:_50?_47._544:_56,formSubmitAttempt:_50?_47._531:_56,formSubmitSuccess:_50?_47._323:_56,formSubmitFailure:_50?_47._343:_56,addFriction:_50?_47._127:_56,isRecording:_50?_47._167:_372,isReturningUser:_50?_47._934:_372,activateFeedback:_50?_47._303:_56,proxyAttachShadow:_50?_47._255:_56,recordingRate:_50?_47._178:_154,version:_50?_47._150:_154,lastUpdate:_50?_47._532:_154,isCreditCard:_50?_47._199:_56,pageNotFound:_50?_47._932:_56,websiteId:_2._45,gdprEnabled:_2.gdprEnabled,updateHeatmap:_353._533,getDisplayUrl:_77._118,config:function(){return arguments.length===1?_2[arguments[0]]:_2._393.apply(_2,arguments)},logConfig:function(){if(_2.debug)console.log(_2)},debug:function(){_2.debug=!_2.debug;console.log('MF: Debugging '+(_2.debug?'enabled':'disabled'))},createTreeMirrorClient:_264?_47._399:_56,deleteTreeMirrorClient:_264?_47._535:_56,addCustomEvent:_264?_47._537:_56,exclude:function(selector){if(!_2._350.includes(selector))_2._350.push(selector)}};if(_2.enableSpa)_551.proxyPushState(window.mouseflow.newPageView);if(!_50)_115._31()})()}