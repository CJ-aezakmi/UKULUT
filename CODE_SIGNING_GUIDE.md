# Подпись EXE файла Antic Browser

## Проблема со SmartScreen

На компьютерах пользователей Windows SmartScreen может показывать предупреждение:
> "Приложение опасно. SmartScreen предотвратил запуск неизвестного приложения"

Это происходит, потому что приложение не подписано Microsoft-сертификатом.

## Решение 1: Самоподпись (бесплатно)

Создаёт сертификат и подписывает exe. Не удаляет SmartScreen полностью, но помогает при повторных запусках.

### Требования:
- Windows 10/11
- PowerShell (от имени администратора)
- Никаких дополнительных программ

### Шаги:

1. **Откройте PowerShell от имени администратора:**
   - Нажмите `Win + X`
   - Выберите `Windows PowerShell (администратор)`

2. **Перейдите в папку проекта:**
   ```powershell
   cd "c:\Users\User\Desktop\чмошный антик"
   ```

3. **Запустите скрипт подписи:**
   ```powershell
   .\sign_executable.ps1
   ```

4. **Подождите завершения.** Вы должны увидеть:
   ```
   ✓ EXE файл успешно подписан!
   Подпись: CN=Antic Browser, O=Antic Browser Project, C=RU
   Статус: Valid
   ```

### Результат:
- Exe файл подписан самоподписанным сертификатом
- SmartScreen может по-прежнему показать предупреждение в первый раз, но статус будет выше
- При частых запусках на одном компьютере SmartScreen будет доверять файлу

---

## Решение 2: Полная подпись Microsoft (платное)

Для полного удаления SmartScreen нужна **EV Code Signing Certificate от Microsoft** ($200-400/год).

### Процесс:
1. Купить сертификат у авторизованного провайдера (DigiCert, Sectigo и т.д.)
2. Получить .pfx файл с приватным ключом
3. Использовать тот же скрипт `sign_executable.ps1` с вашим .pfx файлом

---

## Решение 3: Распространение и доверие пользователей

### Для конечных пользователей:

Если SmartScreen показывает предупреждение:

1. Нажмите **"Подробнее"**
2. Нажмите **"Выполнить в любом случае"**

Windows запомнит это приложение как доверенное (если оно подписано).

---

## Рекомендуемый путь

1. **Сейчас:** Используйте самоподпись (`sign_executable.ps1`) — бесплатно и просто
2. **Будущее:** Когда приложение станет популярным, инвестируйте в EV Code Signing Certificate
3. **Опционально:** Добавьте сертификат в Inno Setup installer для подписи установщика

---

## Проверка подписи

Для проверки подписи exe:

```powershell
Get-AuthenticodeSignature "c:\Users\User\Desktop\чмошный антик\dist\antic\antic.exe"
```

Результат должен показать:
- `Status: Valid` — подпись валидна
- `SignerCertificate.Subject: CN=Antic Browser, ...` — кто подписал
- `TimestampToken` — отметка времени подписи
